<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>MenTora | Desaf√≠a tu mente</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Poppins:wght@400;700&display=swap');
        body {
            margin: 0;
            font-family: 'Poppins', 'Orbitron', Arial, sans-serif;
            background: linear-gradient(120deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e7ef;
            overflow-x: hidden;
            min-height: 100vh;
        }
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem 2rem;
            background: rgba(26,33,62,0.85);
            border-bottom: 2px solid #00fff1;
            box-shadow: 0 4px 32px rgba(0,255,241,0.08);
            font-family: 'Orbitron', 'Poppins', Arial, sans-serif;
            letter-spacing: 2px;
        }
        nav h1 {
            font-size: 2.1rem;
            margin: 0;
            color: #00fff1;
            text-shadow: 0 0 8px #00fff1, 0 0 2px #fff;
        }
        nav a {
            text-decoration: none;
            color: #fff;
            margin-left: 1.2rem;
            font-weight: bold;
            font-family: 'Orbitron', 'Poppins', Arial, sans-serif;
            letter-spacing: 1px;
            transition: color 0.2s, text-shadow 0.2s;
        }
        nav a:hover {
            color: #00fff1;
            text-shadow: 0 0 8px #00fff1;
        }
        .hero {
    text-align: center;
    padding: 2rem 2rem 2rem 2rem;  /* Cambi√© de 5rem a 2rem */
    animation: fadeIn 1.2s;
    position: relative;
}
        .hero h2 {
            font-size: 3.6rem;
            margin-bottom: 1.2rem;
            color: #ffffffff;
            font-family: 'Orbitron', 'Poppins', Arial, sans-serif;
            text-shadow: 0 0 16px #767777ff, 0 0 2px #fff;
            letter-spacing: 1px;
        }
        .hero p {
            font-size: 1.35rem;
            max-width: 650px;
            margin: 0 auto;
            color: #e0e7ef;
            text-shadow: 0 0 4px #00fff1;
        }
        .cta-buttons {
            margin-top: 2.5rem;
        }
        .cta-buttons a {
            text-decoration: none;
            background: linear-gradient(90deg, #ffffffff 60%, #00c3ff 100%);
            color: #1a1a2e;
            padding: 1rem 2.5rem;
            border-radius: 40px;
            font-weight: bold;
            font-family: 'Orbitron', 'Poppins', Arial, sans-serif;
            margin: 0 0.7rem;
            font-size: 1.15rem;
            box-shadow: 0 2px 18px #00fff1a0;
            letter-spacing: 1px;
            border: none;
            transition: background 0.2s, color 0.2s, transform 0.15s, box-shadow 0.2s;
        }
        .cta-buttons a:hover {
            background: linear-gradient(90deg, #00c3ff 60%, #00fff1 100%);
            color: #fff;
            transform: scale(1.08);
            box-shadow: 0 4px 32px #00fff1cc;
        }
        .features-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh; /* Ocupa toda la altura de la pantalla */
    background: #f9fafb; /* Color de fondo suave */
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2rem;
    padding: 4rem 3rem;
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

.feature {
    background: #fff;
    border-radius: 16px;
    padding: 2.5rem 2rem;
    text-align: center;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
    transition: all 0.3s ease;
    cursor: pointer;
    border: 1px solid rgba(0, 0, 0, 0.06);
}

.feature:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 30px rgba(99, 102, 241, 0.15);
    border-color: rgba(99, 102, 241, 0.2);
}

.feature-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto 1.5rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
}

.feature h3 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    color: #1a202c;
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 700;
    letter-spacing: -0.5px;
}

.feature p {
    font-size: 1.05rem;
    color: #4a5568;
    line-height: 1.7;
    text-align: center;
}

        .testimonial {
            background: rgba(0,255,241,0.09);
            border-radius: 14px;
            padding: 1.2rem 1.5rem;
            min-width: 260px;
            max-width: 320px;
            margin: 0 0.5rem;
            color: #fff;
            font-style: italic;
            box-shadow: 0 2px 10px #00fff133;
            border: 1.5px solid #00fff1;
        }
        .testimonial .author {
            margin-top: 0.7rem;
            font-size: 1.05rem;
            color: #00fff1;
            font-style: normal;
            font-family: 'Orbitron', 'Poppins', Arial, sans-serif;
        }
        .scroll-down {
            display: block;
            margin: 2rem auto 0 auto;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(120deg, #00fff1 60%, #00c3ff 100%);
            color: #1a1a2e;
            font-size: 2.2rem;
            text-align: center;
            line-height: 44px;
            cursor: pointer;
            animation: bounce 1.5s infinite;
            border: none;
            box-shadow: 0 2px 12px #00fff1a0;
            transition: background 0.2s, color 0.2s, transform 0.15s;
        }
        .scroll-down:hover {
            background: linear-gradient(90deg, #00c3ff 60%, #00fff1 100%);
            color: #fff;
            transform: scale(1.12);
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }
        footer {
            text-align: center;
            padding: 1.2rem;
            font-size: 1rem;
            background: rgba(26,33,62,0.85);
            color: #00fff1;
            letter-spacing: 1.5px;
            border-top: 2px solid #00fff1;
            font-family: 'Orbitron', 'Poppins', Arial, sans-serif;
            text-shadow: 0 0 8px #00fff1;
        }
        /* Animaciones extra */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes float {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px);
   
} }
    </style>
</head>
 
<body>
            <!-- Fondo combinado: engranajes, circuitos, part√≠culas y figuras humanoides -->
            <svg class="gears-bg" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0;pointer-events:none;opacity:0.13;" viewBox="0 0 1920 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- Engranajes -->
                <g>
                    <g>
                        <circle cx="400" cy="300" r="70" stroke="#ffe066" stroke-width="8" fill="none"/>
                        <g>
                            <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 400 300" to="360 400 300" dur="12s" repeatCount="indefinite"/>
                            <rect x="390" y="220" width="20" height="30" rx="6" fill="#ffe066"/>
                            <rect x="390" y="350" width="20" height="30" rx="6" fill="#ffe066"/>
                            <rect x="320" y="290" width="30" height="20" rx="6" fill="#ffe066"/>
                            <rect x="470" y="290" width="30" height="20" rx="6" fill="#ffe066"/>
                        </g>
                    </g>
                    <g>
                        <circle cx="1200" cy="700" r="50" stroke="#fab005" stroke-width="6" fill="none"/>
                        <g>
                            <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 1200 700" to="-360 1200 700" dur="8s" repeatCount="indefinite"/>
                            <rect x="1192" y="650" width="16" height="22" rx="4" fill="#fab005"/>
                            <rect x="1192" y="728" width="16" height="22" rx="4" fill="#fab005"/>
                            <rect x="1150" y="692" width="22" height="16" rx="4" fill="#fab005"/>
                            <rect x="1228" y="692" width="22" height="16" rx="4" fill="#fab005"/>
                        </g>
                    </g>
                    <g>
                        <circle cx="900" cy="200" r="35" stroke="#fff" stroke-width="4" fill="none"/>
                        <g>
                            <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 900 200" to="360 900 200" dur="6s" repeatCount="indefinite"/>
                            <rect x="895" y="165" width="10" height="15" rx="3" fill="#fff"/>
                            <rect x="895" y="220" width="10" height="15" rx="3" fill="#fff"/>
                            <rect x="865" y="195" width="15" height="10" rx="3.5" fill="#fff"/>
                            <rect x="920" y="195" width="15" height="10" rx="3.5" fill="#fff"/>
                        </g>
                    </g>
                </g>
                <!-- Circuitos animados -->
                <g stroke="#ffe066" stroke-width="2">
                    <polyline points="200,100 400,100 400,300 600,300"/>
                    <polyline points="800,200 1000,200 1000,400 1200,400"/>
                    <polyline points="1400,500 1600,500 1600,700 1800,700"/>
                    <polyline points="300,800 500,800 500,1000 700,1000"/>
                    <circle cx="400" cy="100" r="8" fill="#ffffffff">
                        <animate attributeName="r" values="8;14;8" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="1000" cy="200" r="8" fill="#ffffffff">
                        <animate attributeName="r" values="8;14;8" dur="2.2s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="1600" cy="500" r="8" fill="#ffffffff">
                        <animate attributeName="r" values="8;14;8" dur="2.4s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="500" cy="800" r="8" fill="#ffffffff">
                        <animate attributeName="r" values="8;14;8" dur="2.1s" repeatCount="indefinite"/>
                    </circle>
                </g>
                        <!-- Part√≠culas suaves -->
                        <g>
                            <circle cx="300" cy="900" r="18" fill="#fff" opacity="0.13">
                                <animate attributeName="cy" values="900;200;900" dur="12s" repeatCount="indefinite"/>
                            </circle>
                            <circle cx="1700" cy="200" r="12" fill="#ffffffff" opacity="0.13">
                                <animate attributeName="cy" values="200;800;200" dur="10s" repeatCount="indefinite"/>
                            </circle>
                            <circle cx="800" cy="1000" r="10" fill="#ffffffff" opacity="0.13">
                                <animate attributeName="cy" values="1000;400;1000" dur="14s" repeatCount="indefinite"/>
                            </circle>
                        </g>
                        <!-- Figuras humanoides animadas (minimalistas) -->
                        <g>
                            <!-- Humanoide 1 -->
                            <g>
                                <circle cx="250" cy="400" r="22" fill="#ffffffff"/>
                                <rect x="238" y="422" width="24" height="60" rx="12" fill="#ffffffff"/>
                                <rect x="230" y="482" width="10" height="40" rx="5" fill="#ffffffff">
                                    <animate attributeName="y" values="482;492;482" dur="2.5s" repeatCount="indefinite"/>
                                </rect>
                                <rect x="260" y="482" width="10" height="40" rx="5" fill="#ffffffff">
                                    <animate attributeName="y" values="482;472;482" dur="2.5s" repeatCount="indefinite"/>
                                </rect>
                            </g>
                            <!-- Humanoide 2 -->
                            <g>
                                <circle cx="1700" cy="800" r="18" fill="#fab005"/>
                                <rect x="1690" y="818" width="20" height="48" rx="10" fill="#fab005"/>
                                <rect x="1682" y="866" width="8" height="28" rx="4" fill="#fab005">
                                    <animate attributeName="y" values="866;876;866" dur="2.2s" repeatCount="indefinite"/>
                                </rect>
                                <rect x="1710" y="866" width="8" height="28" rx="4" fill="#fab005">
                                    <animate attributeName="y" values="866;856;866" dur="2.2s" repeatCount="indefinite"/>
                                </rect>
                            </g>
                            <!-- Humanoide 3 -->
                            <g>
                                <circle cx="1100" cy="300" r="15" fill="#fff"/>
                                <rect x="1092" y="315" width="16" height="38" rx="8" fill="#fff"/>
                                <rect x="1086" y="353" width="7" height="20" rx="3.5" fill="#fff">
                                    <animate attributeName="y" values="353;363;353" dur="2.8s" repeatCount="indefinite"/>
                                </rect>
                                <rect x="1111" y="353" width="7" height="20" rx="3.5" fill="#fff">
                                    <animate attributeName="y" values="353;343;353" dur="2.8s" repeatCount="indefinite"/>
                                </rect>
                            </g>
                        </g>
            </svg>

    <nav>
        <div style="display: flex; align-items: center; gap: 0.7rem;">
            <img src="/static/img/mentora1.png" alt="Logo MenTora" style="height: 80px; width: 80px; border-radius: 50%; object-fit: cover;">
            <h1 style="margin: 0;"></h1>
        </div>
        <div>
            <a href="/login">Iniciar Sesi√≥n</a>
            <a href="/register">Registrarse</a>
        </div>
    </nav>



    <section class="hero">
        <h2> ACTIVA TU MENTE</h2>
        <p>Explora, compite y conquista desaf√≠os mientras te diviertes. ¬°Cada partida te hace m√°s sabio y cada logro, m√°s legendario!</p>
        <div class="cta-buttons">
            <a href="/register">COMENZAR</a>
            <a href="/login">YA TENGO CUENTA </a>
        </div>

        <div style="display: flex; justify-content: center; align-items: center; padding: 3rem 0;">
        <img src="/static/img/mentora.png" alt="Logo MenTora" style="height: 200px; width: 280px; animation: float 3s ease-in-out infinite;">
        </div>
    </section>

    <section class="features" id="features">
        <div class="feature">
            <h3>Retos Inteligentes</h3>
            <p>Preguntas dise√±adas para activar tu pensamiento cr√≠tico y curiosidad.</p>
        </div>
        <div class="feature">
            <h3> Gamificaci√≥n Real</h3>
            <p>Sube de nivel, desbloquea logros y compite en rankings por √°rea.</p>
        </div>
        <div class="feature">
            <h3> Comunidad Activa</h3>
            <p>Debate respuestas, comparte ideas y aprende en grupo.</p>
        </div>
        <div class="feature">
            <h3>Tu Panel Personal</h3>
            <p>Visualiza tu progreso, estad√≠sticas y pr√≥ximos desaf√≠os.</p>
        </div>
        <div class="feature">
            <h3> Retos diarios</h3>
            <p>Un nuevo desaf√≠o cada d√≠a para mantenerte motivado y aprendiendo.</p>
        </div>
        <div class="feature">
            <h3> Retos colaborativos</h3>
            <p>Trabaja en equipo y resuelve retos grupales para ganar recompensas extra.</p>
        </div>
    </section>

    <section class="testimonials">
        <h3>Lo que dicen nuestros usuarios</h3>
        <div class="testimonial-slider">
            <div class="testimonial">
                ‚Äú¬°MenTora me motiva a aprender todos los d√≠as! Los retos son adictivos.‚Äù
                <div class="author">‚Äî Sof√≠a, estudiante</div>
            </div>
            <div class="testimonial">
                ‚ÄúLa gamificaci√≥n y los logros hacen que el aprendizaje sea divertido.‚Äù
                <div class="author">‚Äî Carlos, ingeniero</div>
            </div>
            <div class="testimonial">
                ‚ÄúLa comunidad es muy activa y siempre aprendo algo nuevo.‚Äù
                <div class="author">‚Äî Mariana, docente</div>
            </div>
        </div>
    </section>


    <footer>
        &copy; 2025 MenTora. Conocimiento que te reta.
    </footer>

    <!-- ChatBot flotante mejorado -->
    <div id="chatbot-container" style="position:fixed;bottom:32px;right:32px;z-index:1000;">
        <div id="chatbot-box" class="chatbot-modern" style="display:none;">
            <!-- Header del chatbot -->
            <div class="chatbot-header">
                <div style="display:flex;align-items:center;gap:0.8rem;">
                    <div class="chatbot-avatar">ü§ñ</div>
                    <div>
                        <div class="chatbot-title">MenToraBot</div>
                        <div class="chatbot-status">En l√≠nea</div>
                    </div>
                </div>
                <div style="display:flex;gap:0.5rem;">
                    <button class="chatbot-action-btn" onclick="clearChat()" title="Limpiar chat">üóëÔ∏è</button>
                    <button class="chatbot-action-btn" onclick="toggleChatbot()" title="Cerrar">√ó</button>
                </div>
            </div>
            
            <!-- Mensajes del chatbot -->
            <div id="chatbot-messages" class="chatbot-messages">
                <div class="welcome-message">
                    <div class="bot-message">
                        <div class="bot-avatar">ü§ñ</div>
                        <div class="message-bubble bot-bubble">
                            ¬°Hola! Soy <strong>MenToraBot</strong>, tu asistente personal en la plataforma üéØ<br><br>
                            
                            Estoy aqu√≠ para ayudarte a sacar el m√°ximo provecho de <strong>MenTora</strong>:<br><br>
                            
                            üìö <strong>Biblioteca Digital:</strong> 47 recursos en 6 categor√≠as<br>
                            üéÆ <strong>Retos y Quiz:</strong> Gamificaci√≥n y rankings<br>  
                            üìä <strong>Tu Progreso:</strong> Niveles, puntos y logros<br>
                            üí¨ <strong>Comunidad:</strong> Chat en vivo con estudiantes<br>
                            üë®‚Äçüè´ <strong>Para Profesores:</strong> Herramientas administrativas<br><br>
                            
                            <strong>¬øEn qu√© puedo ayudarte hoy?</strong> üöÄ
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- √Årea de escritura -->
            <div class="chatbot-input-area">
                <!-- Sugerencias r√°pidas -->
                <div class="quick-suggestions" id="quickSuggestions">
                    <button class="suggestion-btn" onclick="sendQuickMessage('¬øC√≥mo funciona MenTora?')">¬øC√≥mo funciona?</button>
                    <button class="suggestion-btn" onclick="sendQuickMessage('Expl√≠came la biblioteca digital')">üìö Biblioteca</button>
                    <button class="suggestion-btn" onclick="sendQuickMessage('¬øC√≥mo subo de nivel r√°pido?')">üìà Subir nivel</button>
                    <button class="suggestion-btn" onclick="sendQuickMessage('Recursos de programaci√≥n')">üíª Programaci√≥n</button>
                    <button class="suggestion-btn" onclick="sendQuickMessage('¬øQu√© son los retos diarios?')">üéØ Retos diarios</button>
                </div>
                
                <!-- Input de texto -->
                <form id="chatbot-form" class="chatbot-form" onsubmit="sendChatbotMessage(event)">
                    <div class="input-container">
                        <input id="chatbot-input" type="text" placeholder="Escribe tu mensaje..." autocomplete="off" class="chatbot-input">
                        <button type="button" class="emoji-btn" onclick="toggleEmojiPicker()">üòä</button>
                        <button type="submit" class="send-btn" title="Enviar mensaje">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="currentColor"/>
                            </svg>
                        </button>
                    </div>
                </form>
                
                <!-- Indicador de escritura -->
                <div id="typing-indicator" class="typing-indicator" style="display:none;">
                    <span>MenToraBot est√° escribiendo</span>
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bot√≥n flotante mejorado -->
        <button id="chatbot-toggle" class="chatbot-toggle-modern" onclick="toggleChatbot()" title="Abrir MenToraBot">
            <div class="toggle-icon">üí¨</div>
            <div class="notification-dot" id="notificationDot" style="display:none;"></div>
        </button>
    </div>

    <!-- Estilos del chatbot -->
    <style>
    .chatbot-modern {
        background: linear-gradient(145deg, #1e293b 0%, #334155 100%);
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3), 0 0 0 1px rgba(255,255,255,0.1);
        width: 380px;
        max-width: 90vw;
        height: 500px;
        max-height: 80vh;
        overflow: hidden;
        animation: slideInUp 0.3s ease-out;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.1);
    }

    .chatbot-header {
        background: linear-gradient(135deg, #00fff1 0%, #00c3ff 100%);
        color: #1e293b;
        padding: 1rem 1.2rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-bottom: 1px solid rgba(255,255,255,0.2);
    }

    .chatbot-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(255,255,255,0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        animation: pulse 2s infinite;
    }

    .chatbot-title {
        font-weight: bold;
        font-size: 1.1rem;
        font-family: 'Orbitron', sans-serif;
    }

    .chatbot-status {
        font-size: 0.8rem;
        opacity: 0.8;
    }

    .chatbot-action-btn {
        background: rgba(255,255,255,0.2);
        border: none;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        color: #1e293b;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
        font-weight: bold;
    }

    .chatbot-action-btn:hover {
        background: rgba(255,255,255,0.3);
        transform: scale(1.1);
    }

    .chatbot-messages {
        height: 320px;
        overflow-y: auto;
        padding: 1rem;
        background: rgba(15, 23, 42, 0.5);
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .chatbot-messages::-webkit-scrollbar {
        width: 6px;
    }

    .chatbot-messages::-webkit-scrollbar-track {
        background: rgba(255,255,255,0.1);
        border-radius: 3px;
    }

    .chatbot-messages::-webkit-scrollbar-thumb {
        background: #00fff1;
        border-radius: 3px;
    }

    .bot-message, .user-message {
        display: flex;
        gap: 0.8rem;
        animation: fadeInUp 0.4s ease-out;
    }

    .user-message {
        flex-direction: row-reverse;
        align-self: flex-end;
    }

    .bot-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: linear-gradient(135deg, #00fff1, #00c3ff);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
        flex-shrink: 0;
    }

    .user-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
        flex-shrink: 0;
        color: white;
    }

    .message-bubble {
        max-width: 280px;
        padding: 0.8rem 1rem;
        border-radius: 18px;
        font-size: 0.95rem;
        line-height: 1.4;
        word-wrap: break-word;
        position: relative;
    }

    .bot-bubble {
        background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
        color: #f8fafc;
        border: 1px solid rgba(255,255,255,0.1);
    }

    .user-bubble {
        background: linear-gradient(135deg, #00fff1 0%, #00c3ff 100%);
        color: #1e293b;
        font-weight: 500;
    }

    .welcome-message {
        background: rgba(0,255,241,0.1);
        border: 1px solid rgba(0,255,241,0.3);
        border-radius: 12px;
        padding: 1rem;
        margin-bottom: 1rem;
    }

    .chatbot-input-area {
        background: #1e293b;
        border-top: 1px solid rgba(255,255,255,0.1);
    }

    .quick-suggestions {
        display: flex;
        gap: 0.5rem;
        padding: 0.8rem;
        overflow-x: auto;
    }

    .quick-suggestions::-webkit-scrollbar {
        height: 4px;
    }

    .quick-suggestions::-webkit-scrollbar-track {
        background: transparent;
    }

    .quick-suggestions::-webkit-scrollbar-thumb {
        background: #00fff1;
        border-radius: 2px;
    }

    .suggestion-btn {
        background: rgba(0,255,241,0.1);
        border: 1px solid rgba(0,255,241,0.3);
        border-radius: 20px;
        padding: 0.4rem 0.8rem;
        color: #00fff1;
        font-size: 0.8rem;
        cursor: pointer;
        white-space: nowrap;
        transition: all 0.2s;
    }

    .suggestion-btn:hover {
        background: rgba(0,255,241,0.2);
        border-color: #00fff1;
        transform: translateY(-1px);
    }

    .chatbot-form {
        padding: 0.8rem;
    }

    .input-container {
        display: flex;
        align-items: center;
        background: rgba(255,255,255,0.1);
        border-radius: 25px;
        padding: 0.3rem;
        border: 1px solid rgba(255,255,255,0.2);
    }

    .chatbot-input {
        flex: 1;
        border: none;
        background: transparent;
        color: #f8fafc;
        padding: 0.8rem 1rem;
        font-size: 0.95rem;
        outline: none;
    }

    .chatbot-input::placeholder {
        color: rgba(248,250,252,0.6);
    }

    .emoji-btn {
        background: transparent;
        border: none;
        color: #f8fafc;
        font-size: 1.2rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 50%;
        transition: all 0.2s;
    }

    .emoji-btn:hover {
        background: rgba(255,255,255,0.1);
    }

    .send-btn {
        background: linear-gradient(135deg, #00fff1 0%, #00c3ff 100%);
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        color: #1e293b;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
        margin-left: 0.3rem;
    }

    .send-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 15px rgba(0,255,241,0.4);
    }

    .send-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
    }

    .typing-indicator {
        padding: 0.8rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: rgba(248,250,252,0.7);
        font-size: 0.9rem;
    }

    .typing-dots {
        display: flex;
        gap: 0.2rem;
    }

    .typing-dots span {
        width: 6px;
        height: 6px;
        background: #00fff1;
        border-radius: 50%;
        animation: typingDot 1.5s infinite;
    }

    .typing-dots span:nth-child(2) {
        animation-delay: 0.2s;
    }

    .typing-dots span:nth-child(3) {
        animation-delay: 0.4s;
    }

    .chatbot-toggle-modern {
        background: linear-gradient(135deg, #00fff1 0%, #00c3ff 100%);
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        box-shadow: 0 8px 30px rgba(0,255,241,0.3);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        overflow: hidden;
    }

    .chatbot-toggle-modern:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 40px rgba(0,255,241,0.4);
    }

    .chatbot-toggle-modern::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        transition: left 0.6s;
    }

    .chatbot-toggle-modern:hover::before {
        left: 100%;
    }

    .toggle-icon {
        font-size: 1.8rem;
        color: #1e293b;
        z-index: 1;
    }

    .notification-dot {
        position: absolute;
        top: 8px;
        right: 8px;
        width: 12px;
        height: 12px;
        background: #ef4444;
        border-radius: 50%;
        border: 2px solid white;
        animation: pulse 2s infinite;
    }

    /* Animaciones */
    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(20px) scale(0.9);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes pulse {
        0%, 100% {
            transform: scale(1);
            opacity: 1;
        }
        50% {
            transform: scale(1.1);
            opacity: 0.7;
        }
    }

    @keyframes typingDot {
        0%, 60%, 100% {
            transform: translateY(0);
            opacity: 0.4;
        }
        30% {
            transform: translateY(-8px);
            opacity: 1;
        }
    }

    /* Responsive */
    @media (max-width: 480px) {
        .chatbot-modern {
            width: calc(100vw - 40px);
            height: calc(100vh - 120px);
        }
        
        .quick-suggestions {
            flex-wrap: wrap;
        }
        
        .suggestion-btn {
            font-size: 0.75rem;
            padding: 0.3rem 0.6rem;
        }
    }
    </style>
    <script>
    // Variables globales del chatbot
    // Variables del chatbot
    let chatbotOpen = false;
    let isTyping = false;
    let messageCount = 0;

    // Base de conocimientos enriquecida de MenTora
    const botResponses = {
        'como funciona': 'üéØ **MenTora - Plataforma Educativa Gamificada:**\\n\\n‚Ä¢ **Quiz Interactivos:** M√∫ltiples categor√≠as acad√©micas\\n‚Ä¢ **Sistema de Puntos:** Progresi√≥n de niveles 1-100\\n‚Ä¢ **Rankings:** Competencia global en tiempo real\\n‚Ä¢ **Biblioteca Digital:** 47+ recursos especializados\\n‚Ä¢ **Chat en Tiempo Real:** Comunidad de aprendizaje\\n‚Ä¢ **Panel Administrativo:** Herramientas para profesores\\n\\n¬°Todo mientras te diviertes aprendiendo! üöÄ',
        
        'que puedo hacer': '‚ú® **Funcionalidades Disponibles:**\\n\\nüìö **Biblioteca Digital:**\\n‚Ä¢ Programaci√≥n: Python, JavaScript, Java, C++\\n‚Ä¢ Matem√°ticas: C√°lculo, √°lgebra, estad√≠stica\\n‚Ä¢ Ciencias: F√≠sica, qu√≠mica, biolog√≠a\\n‚Ä¢ Historia y literatura\\n‚Ä¢ Tecnolog√≠a: IA, blockchain, cloud\\n\\nüéÆ **Sistema de Juegos:**\\n‚Ä¢ Quiz tem√°ticos con m√∫ltiples dificultades\\n‚Ä¢ Retos de programaci√≥n ejecutables\\n‚Ä¢ Juegos colaborativos\\n‚Ä¢ Competencias por tiempo\\n\\nüìä **Dashboard Personal:**\\n‚Ä¢ Progreso y nivel actual\\n‚Ä¢ Estad√≠sticas de rendimiento\\n‚Ä¢ Historial de actividades\\n‚Ä¢ Rankings y logros',
        
        'programacion': 'üíª **Recursos de Programaci√≥n:**\\n\\nüìö **Contenido Disponible:**\\n‚Ä¢ Python: Sintaxis, estructuras de datos, POO\\n‚Ä¢ JavaScript: ES6+, async/await, DOM\\n‚Ä¢ Java: Fundamentos, herencia, interfaces\\n‚Ä¢ C++: Punteros, templates, STL\\n‚Ä¢ HTML/CSS: Responsive design, flexbox\\n‚Ä¢ React: Componentes, hooks, contexto\\n‚Ä¢ APIs REST y Flask\\n‚Ä¢ Git y control de versiones\\n‚Ä¢ Algoritmos y estructuras de datos\\n‚Ä¢ Patrones de dise√±o\\n\\nüéØ **Tipos de Retos:**\\n‚Ä¢ Ejercicios de sintaxis\\n‚Ä¢ Problemas algor√≠tmicos\\n‚Ä¢ Debugging de c√≥digo\\n‚Ä¢ Optimizaci√≥n de rendimiento',
        
        'arquitectura': 'üèóÔ∏è **Arquitectura T√©cnica MenTora:**\\n\\n**Backend:**\\n‚Ä¢ Flask 2.3+ con Python 3.9+\\n‚Ä¢ SQLAlchemy ORM\\n‚Ä¢ Socket.IO para WebSockets\\n‚Ä¢ Werkzeug para seguridad\\n‚Ä¢ Sistema de IA local\\n\\n**Base de Datos:**\\n‚Ä¢ users: Perfiles y gamificaci√≥n\\n‚Ä¢ teachers: Gesti√≥n profesores\\n‚Ä¢ quizzes/questions: Evaluaciones\\n‚Ä¢ achievements/badges: Sistema logros\\n‚Ä¢ chat_messages: Comunicaci√≥n\\n\\n**APIs Principales:**\\n‚Ä¢ /dashboard - Panel usuario\\n‚Ä¢ /admin/* - Gesti√≥n administrativa\\n‚Ä¢ /chatbot - IA conversacional\\n‚Ä¢ /games/<id>/run - Ejecuci√≥n juegos',
        
        'gamificacion': 'üéÆ **Sistema de Gamificaci√≥n:**\\n\\n**Progresi√≥n de Niveles:**\\n‚Ä¢ Niveles 1-10: 100 pts/nivel (Principiante)\\n‚Ä¢ Niveles 11-25: 200 pts/nivel (Intermedio)\\n‚Ä¢ Niveles 26-50: 500 pts/nivel (Avanzado)\\n‚Ä¢ Niveles 51-75: 1000 pts/nivel (Experto)\\n‚Ä¢ Niveles 76-100: 2000 pts/nivel (Maestro)\\n\\n**Tipos de Logros:**\\n‚Ä¢ Acad√©micos: Perfeccionista, Estudioso\\n‚Ä¢ Velocidad: Flash, Supers√≥nico\\n‚Ä¢ Precisi√≥n: Certero, Infalible\\n‚Ä¢ Sociales: Mentor, Colaborador\\n‚Ä¢ Progresi√≥n: Imparable, Dedicado\\n\\n**Rankings:**\\n‚Ä¢ Global por puntos totales\\n‚Ä¢ Por √°reas acad√©micas\\n‚Ä¢ Semanal y mensual',
        
        'biblioteca': 'üìö **Biblioteca Digital:**\\n\\nüîç **Categor√≠as (47+ recursos):**\\n‚Ä¢ **Programaci√≥n (12):** Lenguajes, algoritmos, frameworks\\n‚Ä¢ **Matem√°ticas (8):** √Ålgebra, c√°lculo, estad√≠stica\\n‚Ä¢ **Ciencias (6):** F√≠sica, qu√≠mica, biolog√≠a\\n‚Ä¢ **Historia (5):** Universal, M√©xico, contempor√°nea\\n‚Ä¢ **Literatura (7):** Cl√°sica, an√°lisis, escritura\\n‚Ä¢ **Tecnolog√≠a (9):** IA, blockchain, cloud, IoT\\n\\n‚ú® **Caracter√≠sticas:**\\n‚Ä¢ B√∫squeda inteligente\\n‚Ä¢ Filtros por nivel\\n‚Ä¢ Contenido interactivo\\n‚Ä¢ Descarga offline\\n‚Ä¢ Progreso autom√°tico',
        
        'profesores': 'üë®‚Äçüè´ **Panel de Profesores:**\\n\\nüõ†Ô∏è **Herramientas Disponibles:**\\n‚Ä¢ Crear quiz personalizados\\n‚Ä¢ Desarrollar juegos educativos\\n‚Ä¢ Sistema de logros personalizable\\n‚Ä¢ Env√≠o de notificaciones masivas\\n‚Ä¢ Estad√≠sticas detalladas estudiantes\\n‚Ä¢ Generaci√≥n autom√°tica con IA\\n‚Ä¢ Gesti√≥n de usuarios\\n‚Ä¢ Analytics institucional\\n\\nüìä **Funciones de IA:**\\n‚Ä¢ Generaci√≥n autom√°tica de preguntas\\n‚Ä¢ An√°lisis de dificultad\\n‚Ä¢ Personalizaci√≥n por nivel\\n‚Ä¢ Exportaci√≥n m√∫ltiples formatos',
        
        'chat': 'üí¨ **Chat en Tiempo Real:**\\n\\nüåê **Caracter√≠sticas T√©cnicas:**\\n‚Ä¢ WebSockets con Socket.IO\\n‚Ä¢ Moderaci√≥n autom√°tica IA\\n‚Ä¢ Soporte multimedia\\n‚Ä¢ Emojis y reacciones\\n‚Ä¢ Historial persistente\\n\\nüí° **Usos Educativos:**\\n‚Ä¢ Resolver dudas acad√©micas\\n‚Ä¢ Formar grupos de estudio\\n‚Ä¢ Celebrar logros\\n‚Ä¢ Debates constructivos\\n‚Ä¢ Mentor√≠as entre usuarios',
        
        'niveles': 'üìä **Sistema de Niveles:**\\n\\nüéØ **C√≥mo Ganar Puntos:**\\n‚Ä¢ Quiz completados: 10-100 pts\\n‚Ä¢ Retos diarios: 50-200 pts bonus\\n‚Ä¢ Actividad social: 5-25 pts\\n‚Ä¢ Uso biblioteca: 15-75 pts\\n‚Ä¢ Streaks consecutivos: +20% acumulativo\\n\\nüìà **Progresi√≥n:**\\n‚Ä¢ 100 niveles totales\\n‚Ä¢ Escala exponencial balanceada\\n‚Ä¢ Beneficios progresivos\\n‚Ä¢ Reconocimientos especiales\\n\\nüèÜ **Logros Especiales:**\\n‚Ä¢ Primer Paso, Estudioso, Erudito\\n‚Ä¢ Velocista, Rayo, Flash\\n‚Ä¢ Certero, Perfeccionista, Leyenda',
        
        'tecnico': 'üîß **Soporte T√©cnico:**\\n\\n**Problemas Comunes:**\\n‚Ä¢ Login: Verificar credenciales, limpiar cache\\n‚Ä¢ Quiz no carga: Refresh, verificar conexi√≥n\\n‚Ä¢ Chat desconectado: Reconexi√≥n autom√°tica\\n‚Ä¢ Rankings: Cache temporal, esperar 5-10 min\\n\\n**Optimizaci√≥n:**\\n‚Ä¢ Chrome 90+ o Firefox 88+ recomendados\\n‚Ä¢ JavaScript habilitado\\n‚Ä¢ Conexi√≥n estable 1Mbps m√≠nimo\\n\\n**Contacto:**\\n‚Ä¢ Chat t√©cnico 24/7\\n‚Ä¢ Documentaci√≥n en /help',
        
        'default': 'ü§ñ **¬°Hola! Soy MenToraBot**\\n\\nSoy el asistente oficial de MenTora con conocimiento completo de la plataforma.\\n\\n**Puedo ayudarte con:**\\n‚Ä¢ Arquitectura t√©cnica (Flask, SQLAlchemy, WebSockets)\\n‚Ä¢ Funcionalidades educativas completas\\n‚Ä¢ Sistema de gamificaci√≥n y niveles\\n‚Ä¢ Herramientas para profesores\\n‚Ä¢ Resoluci√≥n de problemas\\n‚Ä¢ Estrategias de estudio\\n\\n**Preg√∫ntame sobre:**\\n‚Ä¢ "¬øC√≥mo funciona MenTora?"\\n‚Ä¢ "¬øQu√© puedo hacer aqu√≠?"\\n‚Ä¢ "Programaci√≥n", "Matem√°ticas", "Biblioteca"\\n‚Ä¢ "Niveles", "Gamificaci√≥n", "Chat"\\n‚Ä¢ "Profesores", "Arquitectura", "Soporte t√©cnico"\\n\\n¬°Estoy aqu√≠ para hacer tu experiencia en MenTora incre√≠ble! üöÄ'
    };
        'chat': 'üí¨ **Sistema de Chat Avanzado con Tecnolog√≠a en Tiempo Real:**\n\n**üîß Arquitectura T√©cnica Completa:**\n‚Ä¢ **Backend WebSocket:** Flask-SocketIO con rooms virtuales\n‚Ä¢ **Frontend Real-time:** JavaScript con event listeners\n‚Ä¢ **Persistencia:** Tabla `chat_messages` con indexaci√≥n optimizada\n‚Ä¢ **Escalabilidad:** Soporte para 100+ usuarios simult√°neos\n‚Ä¢ **Moderaci√≥n IA:** Filtros autom√°ticos de contenido inapropiado\n\n**üìä Modelo de Datos (`ChatMessage`):**\n‚Ä¢ id: Clave primaria autoincremental\n‚Ä¢ user_id: Foreign key al remitente\n‚Ä¢ question_id: Contexto opcional de pregunta\n‚Ä¢ message: Contenido con formato HTML permitido\n‚Ä¢ timestamp: Marca temporal con zona horaria\n‚Ä¢ message_type: Tipo (texto/imagen/archivo/sistema)\n‚Ä¢ edited_at: Timestamp de √∫ltima edici√≥n\n‚Ä¢ is_deleted: Soft delete para moderation\n\n**‚ö° Funcionalidades en Tiempo Real:**\n\n**üì° Eventos WebSocket Implementados:**\n‚Ä¢ **`send_message`** - Env√≠o instant√°neo con validaci√≥n\n‚Ä¢ **`receive_message`** - Recepci√≥n con notificaciones\n‚Ä¢ **`user_typing`** - Indicador de escritura en progreso\n‚Ä¢ **`user_joined`** - Notificaci√≥n de ingreso al chat\n‚Ä¢ **`user_left`** - Notificaci√≥n de salida\n‚Ä¢ **`message_edited`** - Actualizaci√≥n de mensaje existente\n‚Ä¢ **`message_deleted`** - Eliminaci√≥n con moderaci√≥n\n\n**üé® Caracter√≠sticas de Interfaz:**\n‚Ä¢ **Emojis Avanzados:** Mapeo autom√°tico de atajos textuales\n‚Ä¢ **Formato Rico:** Markdown b√°sico (negritas, cursivas, enlaces)\n‚Ä¢ **Menciones:** @username con notificaciones dirigidas\n‚Ä¢ **Archivos Multimedia:** Im√°genes y documentos (m√°x 10MB)\n‚Ä¢ **Reacciones:** Emoji reactions a mensajes espec√≠ficos\n‚Ä¢ **Hilos de Conversaci√≥n:** Respuestas organizadas por tema\n\n**üõ°Ô∏è Sistema de Moderaci√≥n Autom√°tica:**\n\n**üîç Filtros de Contenido:**\n‚Ä¢ Lista negra de palabras inapropiadas actualizable\n‚Ä¢ Detecci√≥n de spam por frecuencia de mensajes\n‚Ä¢ An√°lisis de sentimiento para detectar toxicidad\n‚Ä¢ Validaci√≥n de URLs para prevenir phishing\n‚Ä¢ L√≠mite de caracteres (500) con contador visual\n\n**‚öñÔ∏è Sistema de Reportes:**\n‚Ä¢ Bot√≥n de reporte en cada mensaje\n‚Ä¢ Categor√≠as de reporte (spam, acoso, contenido inapropiado)\n‚Ä¢ Queue de moderaci√≥n para profesores\n‚Ä¢ Acciones autom√°ticas (warning, mute temporal, ban)\n‚Ä¢ Log completo de acciones moderativas\n\n**üí° Funcionalidades Educativas Especializadas:**\n\n**üìö Integraci√≥n con Plataforma:**\n‚Ä¢ **Compartir Recursos:** Links directos a biblioteca con preview\n‚Ä¢ **Resultados de Quiz:** Celebrar logros con formato especial\n‚Ä¢ **Invitaciones a Juegos:** Sistema de invites con notificaci√≥n\n‚Ä¢ **Grupos de Estudio:** Creaci√≥n de rooms tem√°ticas\n‚Ä¢ **Mentor√≠as:** Conexi√≥n directa entre estudiantes y tutores\n\n**üéØ Etiqueta y Mejores Pr√°cticas:**\n‚Ä¢ Guidelines autom√°ticas para nuevos usuarios\n‚Ä¢ Sistema de reputaci√≥n basado en contribuciones\n‚Ä¢ Rewards por ayudar a otros estudiantes\n‚Ä¢ Highlighting de contribuciones valiosas\n‚Ä¢ Sistema de "gracias" con puntos karma\n\n**üìä Analytics del Chat:**\n‚Ä¢ Mensajes m√°s populares y √∫tiles\n‚Ä¢ Usuarios m√°s activos y colaborativos\n‚Ä¢ Temas de conversaci√≥n m√°s frecuentes\n‚Ä¢ Horarios de mayor actividad\n‚Ä¢ Efectividad de resoluci√≥n de dudas\n\n**üîß Configuraciones de Usuario:**\n‚Ä¢ Notificaciones personalizables (sonido, visual, email)\n‚Ä¢ Modo "No Molestar" con excepciones\n‚Ä¢ Filtros personales de contenido\n‚Ä¢ Temas visuales para el chat\n‚Ä¢ Configuraci√≥n de privacidad para mensajes directos',
        
        // === SISTEMA ADMINISTRATIVO COMPLETO ===
        'profesores': 'üë®‚Äçüè´ **Panel Administrativo Completo para Educadores:**\n\n**üîê Sistema de Autenticaci√≥n de Profesores:**\n‚Ä¢ **Tabla `teachers` Especializada:**\n  - user_id: Relaci√≥n √∫nica con cuenta principal\n  - area: √Årea de especializaci√≥n acad√©mica\n  - department: Departamento o facultad\n  - certifications: JSON con certificaciones\n  - experience_years: A√±os de experiencia docente\n  - created_at: Fecha de registro como profesor\n\n**üìä Dashboard de Profesor Avanzado (`/teacher/dashboard`):**\n\n**üìà Analytics y Estad√≠sticas:**\n‚Ä¢ **M√©tricas Globales:**\n  - Total de estudiantes en cursos activos\n  - Promedio general de calificaciones\n  - Tasa de participaci√≥n en actividades\n  - Tiempo promedio dedicado por estudiante\n  - Tendencias de rendimiento mensual\n\n‚Ä¢ **Vista Individual de Estudiantes:**\n  - Lista completa con fotos y datos b√°sicos\n  - Puntajes individuales con gr√°ficas temporales\n  - Progreso detallado por categor√≠a acad√©mica\n  - Identificaci√≥n de estudiantes en riesgo\n  - Recomendaciones autom√°ticas de intervenci√≥n\n\n‚Ä¢ **An√°lisis de Contenido:**\n  - Quiz m√°s y menos exitosos\n  - Preguntas con mayor tasa de error\n  - Juegos con mejor engagement\n  - Recursos de biblioteca m√°s consultados\n\n**üéØ Creaci√≥n de Contenido Educativo:**\n\n**üìù Sistema de Quiz Avanzado (`/admin/create_quiz`):**\n‚Ä¢ **Editor Visual WYSIWYG:**\n  - Creaci√≥n de preguntas con formato rico\n  - Inserci√≥n de im√°genes y multimedia\n  - Preview en tiempo real\n  - Templates predefinidos por materia\n\n‚Ä¢ **Configuraci√≥n Granular:**\n  - T√≠tulo y descripci√≥n detallada del quiz\n  - Selecci√≥n de √°rea tem√°tica espec√≠fica\n  - Niveles de dificultad configurables\n  - Timer personalizable por pregunta\n  - N√∫mero de intentos permitidos\n  - Fecha de activaci√≥n y expiraci√≥n\n  - Grupos de estudiantes espec√≠ficos\n\n‚Ä¢ **Banco de Preguntas:**\n  - Librer√≠a personal de preguntas reutilizables\n  - Categorizaci√≥n por tema y dificultad\n  - Estad√≠sticas de efectividad por pregunta\n  - Importaci√≥n/exportaci√≥n en m√∫ltiples formatos\n  - Compartir preguntas con otros profesores\n\n**‚ùì Gesti√≥n de Preguntas (`/admin/add_question`):**\n‚Ä¢ **Tipos de Pregunta Soportados:**\n  - Opci√≥n m√∫ltiple (2-6 opciones)\n  - Verdadero/Falso con justificaci√≥n\n  - Respuesta corta con validaci√≥n flexible\n  - Ordenamiento de elementos\n  - Rellenar espacios en blanco\n  - Matching de conceptos\n\n‚Ä¢ **Configuraci√≥n por Pregunta:**\n  - Texto con formato rico (negritas, cursivas)\n  - Opciones en formato JSON estructurado\n  - Respuesta correcta con m√∫ltiples formatos aceptados\n  - Explicaci√≥n detallada para feedback\n  - Puntos asignados (1-100 puntos)\n  - Tags para categorizaci√≥n\n  - Im√°genes o diagramas de apoyo\n\n**üéÆ Desarrollo de Juegos Educativos (`/admin/create_game`):**\n‚Ä¢ **Tipos de Juego Configurables:**\n  - Quiz competitivos con rankings\n  - Juegos de memoria tem√°ticos\n  - Puzzles l√≥gicos paso a paso\n  - Simulaciones interactivas\n  - Retos de programaci√≥n con casos de prueba\n  - Juegos colaborativos para equipos\n\n‚Ä¢ **Configuraci√≥n Avanzada:**\n  - Nombre y descripci√≥n del juego\n  - Reglas detalladas con ejemplos\n  - Mec√°nicas de puntuaci√≥n personalizadas\n  - Duraci√≥n estimada y l√≠mites de tiempo\n  - N√∫mero de jugadores (individual/grupal)\n  - Prerequisitos acad√©micos\n  - Materiales de apoyo necesarios\n\n**üèÜ Sistema de Logros Personalizable (`/admin/create_or_update_achievement`):**\n‚Ä¢ **Creaci√≥n de Badges √önicos:**\n  - Nombre creativo y memorable del logro\n  - Descripci√≥n clara de requisitos\n  - Imagen personalizada (upload o selecci√≥n)\n  - Criterios autom√°ticos de obtenci√≥n\n  - Puntos de recompensa (50-500)\n  - Rareza del logro (com√∫n/raro/√©pico/legendario)\n\n‚Ä¢ **Criterios Configurables:**\n  - Completar N quiz consecutivos\n  - Obtener X puntos en una categor√≠a\n  - Participar Y d√≠as consecutivos\n  - Ayudar a Z compa√±eros en chat\n  - Dominar √°rea espec√≠fica\n  - Logros estacionales o por eventos\n\n**üë• Gesti√≥n Integral de Estudiantes:**\n\n**üë§ Administraci√≥n de Cuentas (`/admin/create_or_update_user`):**\n‚Ä¢ **Informaci√≥n Completa del Estudiante:**\n  - Datos personales y de contacto\n  - √Årea acad√©mica y nivel de estudio\n  - Configuraci√≥n inicial de puntos y nivel\n  - Asignaci√≥n de permisos especiales\n  - Notas privadas del profesor\n\n‚Ä¢ **Gesti√≥n de Acceso:**\n  - Cambio de contrase√±as (`/admin/change_password`)\n  - Bloqueo/desbloqueo de cuentas\n  - Reseteo de progreso acad√©mico\n  - Transferencia entre grupos o secciones\n\n**üì¢ Sistema de Comunicaci√≥n:**\n‚Ä¢ **Notificaciones Masivas (`/admin/send_notification`):**\n  - Mensajes a estudiantes espec√≠ficos\n  - Broadcasts a toda la clase\n  - Alertas de eventos importantes\n  - Recordatorios de tareas o ex√°menes\n  - Felicitaciones por logros\n\n‚Ä¢ **Categor√≠as de Notificaciones:**\n  - Acad√©micas (tareas, ex√°menes, resultados)\n  - Administrativas (cambios de horario, pol√≠ticas)\n  - Motivacionales (logros, reconocimientos)\n  - T√©cnicas (mantenimiento, actualizaciones)\n\n**ü§ñ Herramientas de IA y Automatizaci√≥n:**\n\n**üß† Generaci√≥n Autom√°tica (`ai_local.py`):**\n‚Ä¢ **Creaci√≥n Inteligente de Contenido:**\n  - Generaci√≥n de preguntas por tema espec√≠fico\n  - M√∫ltiples formatos de examen automatizados\n  - An√°lisis de dificultad y ajuste autom√°tico\n  - Personalizaci√≥n seg√∫n nivel del grupo\n  - Export directo a TXT, PDF, DOC\n\n‚Ä¢ **An√°lisis Predictivo:**\n  - Identificaci√≥n temprana de estudiantes en riesgo\n  - Recomendaciones personalizadas de contenido\n  - Optimizaci√≥n autom√°tica de dificultad\n  - Sugerencias de intervenci√≥n pedag√≥gica\n\n**üìä Reportes y Analytics Avanzados:**\n‚Ä¢ **Dashboards Personalizables:**\n  - M√©tricas clave configurables por profesor\n  - Gr√°ficas interactivas con drill-down\n  - Comparativas temporales y entre grupos\n  - Alertas autom√°ticas de cambios significativos\n\n‚Ä¢ **Exportaci√≥n de Datos:**\n  - Reportes en PDF con branding institucional\n  - Hojas de Excel con datos crudos\n  - APIs para integraci√≥n con sistemas externos\n  - Backup autom√°tico de datos cr√≠ticos',
        
        'admin': 'üîß **Panel de Administraci√≥n Global Avanzado:**\n\n**üéõÔ∏è Arquitectura de Control Total:**\n\n**üîê Verificaci√≥n de Permisos:**\n‚Ä¢ Middleware autom√°tico que verifica `is_admin = True`\n‚Ä¢ Logs de auditor√≠a para todas las acciones administrativas\n‚Ä¢ Rate limiting espec√≠fico para operaciones cr√≠ticas\n‚Ä¢ Tokens CSRF obligatorios en formularios de administraci√≥n\n‚Ä¢ Sesiones con timeout reducido para mayor seguridad\n\n**üë§ Gesti√≥n Completa de Usuarios:**\n\n**üèóÔ∏è CRUD de Usuarios (`/admin/create_or_update_user`):**\n‚Ä¢ **Creaci√≥n Masiva:**\n  - Import CSV con validaci√≥n autom√°tica\n  - Generaci√≥n de contrase√±as seguras temporales\n  - Env√≠o autom√°tico de credenciales por email\n  - Asignaci√≥n autom√°tica de avatars √∫nicos\n\n‚Ä¢ **Edici√≥n Avanzada (`/admin/edit_user/<id>`):**\n  - Carga autom√°tica de datos en formularios\n  - Previsualizaci√≥n de cambios antes de aplicar\n  - Historial de modificaciones por admin\n  - Rollback de cambios con confirmaci√≥n\n\n‚Ä¢ **Eliminaci√≥n Segura (`/admin/delete_user/<id>`):**\n  - Soft delete con opci√≥n de recuperaci√≥n\n  - Backup autom√°tico antes de eliminaci√≥n\n  - Reasignaci√≥n de contenido creado\n  - Notificaci√≥n autom√°tica a usuarios afectados\n\n‚Ä¢ **Gesti√≥n de Acceso:**\n  - Cambio masivo de contrase√±as (`/admin/change_password`)\n  - Bloqueo/desbloqueo por lotes\n  - Auditor√≠a de accesos sospechosos\n  - Configuraci√≥n de pol√≠ticas de contrase√±a\n\n**üéÆ Gesti√≥n Avanzada de Juegos:**\n\n**üéØ Administraci√≥n de Contenido L√∫dico:**\n‚Ä¢ **`/admin/create_game` - Creaci√≥n Profesional:**\n  - Templates predefinidos por categor√≠a\n  - Sistema de versionado de juegos\n  - Preview interactivo antes de publicar\n  - Configuraci√≥n de m√©tricas personalizadas\n\n‚Ä¢ **`/admin/edit_game/<id>` - Edici√≥n Granular:**\n  - Editor visual con drag & drop\n  - Modificaci√≥n en caliente sin afectar partidas activas\n  - A/B testing autom√°tico para optimizaci√≥n\n  - Clonado inteligente para variaciones\n\n‚Ä¢ **`/admin/delete_game/<id>` - Eliminaci√≥n Inteligente:**\n  - An√°lisis de impacto antes de eliminaci√≥n\n  - Migraci√≥n autom√°tica de progreso estudiantil\n  - Archivo hist√≥rico para analytics\n  - Notificaciones a profesores afectados\n\n**üèÜ Sistema de Logros Corporativo:**\n\n**üéñÔ∏è Gesti√≥n de Insignias (`/admin/create_or_update_achievement`):**\n‚Ä¢ **Creaci√≥n Masiva de Logros:**\n  - Templates institucionales predefinidos\n  - Generaci√≥n autom√°tica de im√°genes con IA\n  - Configuraci√≥n de criterios complejos (AND/OR logic)\n  - Sistema de logros estacionales autom√°ticos\n\n‚Ä¢ **Edici√≥n y Mantenimiento:**\n  - Modificaci√≥n retroactiva de criterios\n  - Rec√°lculo autom√°tico de logros obtenidos\n  - Sistema de invalidaci√≥n por cambios acad√©micos\n  - Logros condicionales con prerequisitos\n\n‚Ä¢ **Analytics de Logros:**\n  - Tasas de obtenci√≥n por logro\n  - Tiempo promedio para conseguir cada insignia\n  - Logros m√°s y menos populares\n  - Impacto en engagement estudiantil\n\n**üìù Gesti√≥n Integral de Quiz:**\n\n**üìö Administraci√≥n de Evaluaciones:**\n‚Ä¢ **`/admin/create_quiz` - Creaci√≥n Institucional:**\n  - Templates por facultad y materia\n  - Banco institucional de preguntas\n  - Sistema de revisi√≥n por pares\n  - Versionado autom√°tico con changelog\n\n‚Ä¢ **`/admin/add_question` - Calidad Acad√©mica:**\n  - Review autom√°tico de dificultad con IA\n  - Detecci√≥n de bias en preguntas\n  - Validaci√≥n pedag√≥gica autom√°tica\n  - Sugerencias de mejora basadas en estad√≠sticas\n\n**üì¢ Sistema de Comunicaci√≥n Institucional:**\n\n**üì° Notificaciones Masivas Avanzadas:**\n‚Ä¢ **Segmentaci√≥n Inteligente:**\n  - Por nivel acad√©mico y √°rea de estudio\n  - Por rendimiento acad√©mico (alto/medio/bajo)\n  - Por patr√≥n de uso (activos/inactivos/nuevos)\n  - Por ubicaci√≥n geogr√°fica y zona horaria\n\n‚Ä¢ **Programaci√≥n Autom√°tica:**\n  - Env√≠o diferido con optimizaci√≥n horaria\n  - Secuencias de notificaciones automatizadas\n  - A/B testing de mensajes para efectividad\n  - An√°lisis de tasas de apertura y engagement\n\n**üìä Analytics y Business Intelligence:**\n\n**üìà Dashboards Ejecutivos:**\n‚Ä¢ **M√©tricas Institucionales:**\n  - KPIs de engagement estudiantil\n  - Tasas de retenci√≥n y abandono\n  - Efectividad pedag√≥gica por √°rea\n  - ROI de iniciativas educativas\n\n‚Ä¢ **Reportes Autom√°ticos:**\n  - Informes semanales para direcci√≥n acad√©mica\n  - Alertas tempranas de problemas sist√©micos\n  - Benchmarking con otras instituciones\n  - Predicciones de carga de trabajo\n\n**üîß Herramientas de Mantenimiento:**\n\n**üõ†Ô∏è Administraci√≥n del Sistema:**\n‚Ä¢ **Gesti√≥n de Base de Datos:**\n  - Backup autom√°tico con rotaci√≥n\n  - Optimizaci√≥n de consultas pesadas\n  - Limpieza autom√°tica de datos obsoletos\n  - Migraci√≥n de esquema sin downtime\n\n‚Ä¢ **Monitoreo de Rendimiento:**\n  - M√©tricas de servidor en tiempo real\n  - Alertas de sobrecarga autom√°ticas\n  - Optimizaci√≥n de consultas SQL lentas\n  - Gesti√≥n autom√°tica de recursos\n\n**üîí Seguridad y Compliance:**\n\n**üõ°Ô∏è Protecci√≥n Avanzada:**\n‚Ä¢ **Auditor√≠a Completa:**\n  - Log detallado de todas las acciones admin\n  - Tracking de cambios con usuario y timestamp\n  - Detecci√≥n de patrones an√≥malos\n  - Compliance con regulaciones educativas\n\n‚Ä¢ **Gesti√≥n de Accesos:**\n  - Roles granulares con permisos espec√≠ficos\n  - Acceso temporal para auditores externos\n  - Rotaci√≥n autom√°tica de credenciales\n  - Multi-factor authentication obligatorio',
        
        // === SISTEMA DE GAMIFICACI√ìN COMPLETO ===
        'niveles': 'üìä **Sistema de Niveles y Progresi√≥n Completo:**\n\n**üéØ Mec√°nica de Puntuaci√≥n Avanzada:**\n\n**üíé Fuentes de Puntos Detalladas:**\n‚Ä¢ **Quiz Completados:**\n  - B√°sicos: +10-25 puntos por pregunta correcta\n  - Intermedios: +30-50 puntos por pregunta correcta\n  - Avanzados: +60-100 puntos por pregunta correcta\n  - Bonus perfecci√≥n: +100% si 100% de aciertos\n  - Bonus velocidad: +25% por respuestas en <5 segundos\n\n‚Ä¢ **Retos Diarios Especiales:**\n  - Completar reto: +50-200 puntos base\n  - Streak bonus: +20% por d√≠a consecutivo (m√°x 300%)\n  - First completion: +500 puntos bonus\n  - Weekend challenge: +150% los fines de semana\n\n‚Ä¢ **Actividad Social:**\n  - Mensaje √∫til en chat: +5 puntos\n  - Ayudar a resolver duda: +25 puntos\n  - Recibir "gracias": +10 puntos\n  - Formar grupo de estudio: +50 puntos\n  - Completar sesi√≥n colaborativa: +100 puntos\n\n‚Ä¢ **Uso de Biblioteca:**\n  - Primera lectura de recurso: +15 puntos\n  - Completar recurso: +30-75 puntos seg√∫n extensi√≥n\n  - Tomar notas: +10 puntos adicionales\n  - Compartir recurso √∫til: +20 puntos\n\n**üìà Tabla de Progresi√≥n de Niveles (1-100):**\n\n**üèÜ Escala Exponencial Balanceada:**\n‚Ä¢ **Niveles 1-10 (Novato):** 100 puntos por nivel\n  - Total necesario: 1,000 puntos\n  - Descripci√≥n: "Aprendiz de MenTora"\n  - Beneficios: Acceso b√°sico a todas las funciones\n\n‚Ä¢ **Niveles 11-25 (B√°sico):** 200 puntos por nivel\n  - Total acumulado: 4,000 puntos\n  - Descripci√≥n: "Estudiante Dedicado"\n  - Beneficios: Personalizaci√≥n de avatar, temas adicionales\n\n‚Ä¢ **Niveles 26-50 (Intermedio):** 500 puntos por nivel\n  - Total acumulado: 16,500 puntos\n  - Descripci√≥n: "Scholar Competente"\n  - Beneficios: Acceso a contenido premium, badges especiales\n\n‚Ä¢ **Niveles 51-75 (Avanzado):** 1,000 puntos por nivel\n  - Total acumulado: 41,500 puntos\n  - Descripci√≥n: "Maestro del Conocimiento"\n  - Beneficios: Mentor√≠as, contenido exclusivo, beta testing\n\n‚Ä¢ **Niveles 76-100 (Experto):** 2,000 puntos por nivel\n  - Total acumulado: 91,500 puntos\n  - Descripci√≥n: "Leyenda de MenTora"\n  - Beneficios: Reconocimiento especial, t√≠tulo honor√≠fico\n\n**üèÜ Sistema de Logros Integral (tabla `badges`):**\n\n**üéØ Categor√≠as de Logros por Actividad:**\n\n**üìö LOGROS ACAD√âMICOS:**\n‚Ä¢ **"Primer Paso"** - Completar tu primer quiz (10 pts bonus)\n‚Ä¢ **"Estudioso"** - Usar biblioteca 10 veces (50 pts bonus)\n‚Ä¢ **"Erudito"** - Completar 100 quiz diferentes (500 pts bonus)\n‚Ä¢ **"Sabio"** - Promedio de 95% en 20 quiz (1000 pts bonus)\n‚Ä¢ **"Bibliotecario"** - Leer 50 recursos completos (750 pts bonus)\n‚Ä¢ **"Acad√©mico"** - Destacar en 3 √°reas diferentes (1500 pts bonus)\n\n**‚ö° LOGROS DE RENDIMIENTO:**\n‚Ä¢ **"Velocista"** - 10 respuestas consecutivas <3 segundos (200 pts)\n‚Ä¢ **"Rayo"** - Quiz completo en <2 minutos (300 pts)\n‚Ä¢ **"Flash"** - 50 respuestas r√°pidas en una sesi√≥n (500 pts)\n‚Ä¢ **"Supers√≥nico"** - Mantener velocidad alta durante una semana (1000 pts)\n\n**üéØ LOGROS DE PRECISI√ìN:**\n‚Ä¢ **"Certero"** - 10 quiz consecutivos con 100% (400 pts)\n‚Ä¢ **"Infalible"** - 100 respuestas correctas seguidas (800 pts)\n‚Ä¢ **"Perfeccionista"** - Nunca fallar en una categor√≠a espec√≠fica (1200 pts)\n‚Ä¢ **"Leyenda"** - 1000 respuestas correctas totales (2000 pts)\n\n**ü§ù LOGROS SOCIALES:**\n‚Ä¢ **"Comunicador"** - Enviar 100 mensajes √∫tiles (150 pts)\n‚Ä¢ **"Mentor"** - Ayudar a 10 usuarios novatos (500 pts)\n‚Ä¢ **"L√≠der"** - Organizar 5 grupos de estudio (750 pts)\n‚Ä¢ **"Diplom√°tico"** - Moderar 15 discusiones constructivas (1000 pts)\n‚Ä¢ **"Inspirador"** - Recibir 100 "gracias" de la comunidad (1500 pts)\n\n**üìà LOGROS DE PROGRESI√ìN:**\n‚Ä¢ **"Ascendente"** - Subir 5 niveles en una semana (300 pts)\n‚Ä¢ **"Imparable"** - 30 d√≠as consecutivos activo (800 pts)\n‚Ä¢ **"Constante"** - 365 d√≠as de actividad (2000 pts)\n‚Ä¢ **"Tit√°n"** - Alcanzar nivel 80+ (3000 pts)\n‚Ä¢ **"Leyenda Viviente"** - Nivel 100 conseguido (5000 pts)\n\n**üéÆ LOGROS DE JUEGOS:**\n‚Ä¢ **"Gamer"** - Completar 25 juegos diferentes (400 pts)\n‚Ä¢ **"Competitivo"** - Ganar 15 duelos directos (600 pts)\n‚Ä¢ **"Estratega"** - Resolver 10 puzzles complejos (800 pts)\n‚Ä¢ **"Arcade Master"** - Dominar todos los tipos de juego (1200 pts)\n‚Ä¢ **"Speedrunner"** - Records de velocidad en 5 juegos (1500 pts)\n\n**‚≠ê LOGROS ESPECIALES Y ESTACIONALES:**\n‚Ä¢ **"Primera Vez"** - Primer quiz completado (50 pts)\n‚Ä¢ **"Descubridor"** - Usar funci√≥n beta nueva (100 pts)\n‚Ä¢ **"VIP"** - Acceso anticipado a contenido (200 pts)\n‚Ä¢ **"Fundador"** - Parte de primeros 100 usuarios (1000 pts)\n‚Ä¢ **"Aniversario"** - Activo en fechas especiales (500 pts)\n‚Ä¢ **"Madrugador"** - Estudiar antes de 7 AM por 7 d√≠as (300 pts)\n‚Ä¢ **"Nocturno"** - Estudiar despu√©s de 11 PM por 7 d√≠as (300 pts)\n‚Ä¢ **"Fin de Semana"** - Completar retos s√°bado y domingo (200 pts)\n\n**üìä Rankings y Competencia:**\n\n**üèÖ Tipos de Clasificaciones:**\n‚Ä¢ **Global:** Todos los usuarios activos ordenados por puntos totales\n‚Ä¢ **Por √Årea:** Especializaci√≥n acad√©mica (programaci√≥n, matem√°ticas, etc.)\n‚Ä¢ **Semanal:** Reset cada lunes con premios especiales\n‚Ä¢ **Mensual:** Competencia extendida con logros exclusivos\n‚Ä¢ **Solo Estudiantes:** Excluye profesores y administradores\n‚Ä¢ **Por Instituci√≥n:** Comparativas entre diferentes escuelas\n\n**üíé Beneficios Progresivos por Nivel:**\n\n**üé® Personalizaci√≥n:**\n‚Ä¢ **Nivel 5:** Acceso a chat privado con estudiantes avanzados\n‚Ä¢ **Nivel 10:** Biblioteca de temas visuales personalizados\n‚Ä¢ **Nivel 15:** Avatars premium exclusivos y animados\n‚Ä¢ **Nivel 20:** Badges y marcos de perfil √∫nicos\n‚Ä¢ **Nivel 25:** Efectos especiales en mensajes de chat\n\n**üìö Contenido Exclusivo:**\n‚Ä¢ **Nivel 30:** Recursos de biblioteca premium y avanzados\n‚Ä¢ **Nivel 40:** Acceso a masterclasses exclusivas\n‚Ä¢ **Nivel 50:** Sistema de mentor√≠as con expertos\n‚Ä¢ **Nivel 60:** Beta testing de nuevas funcionalidades\n‚Ä¢ **Nivel 75:** Participaci√≥n en comit√© de mejoras\n\n**üèÜ Reconocimiento:**\n‚Ä¢ **Nivel 80:** T√≠tulo honor√≠fico visible en perfil\n‚Ä¢ **Nivel 90:** Placa especial en hall of fame\n‚Ä¢ **Nivel 100:** Reconocimiento permanente y beneficios de por vida\n\n**üéä Eventos y Competencias Especiales:**\n\n**üìÖ Calendario de Eventos:**\n‚Ä¢ **Reto del Mes:** Competencia tem√°tica con premios exclusivos\n‚Ä¢ **Marat√≥n de Conocimiento:** 24 horas de actividades intensivas\n‚Ä¢ **Olimpiadas Acad√©micas:** Competencia entre diferentes √°reas\n‚Ä¢ **Desaf√≠o Colaborativo:** Trabajo en equipo con metas globales\n‚Ä¢ **Speed Learning:** Retos de velocidad con multiplicadores especiales\n‚Ä¢ **Temporada de Logros:** Per√≠odos con doble puntuaci√≥n\n\n**üèÖ Recompensas de Evento:**\n‚Ä¢ Logros exclusivos que no se repiten\n‚Ä¢ Puntos bonus masivos (hasta 5000 pts)\n‚Ä¢ Acceso temporal a contenido premium\n‚Ä¢ Menciones especiales en comunicados\n‚Ä¢ Participaci√≥n en eventos VIP presenciales',
        
        // === RESPUESTA POR DEFECTO EXPANDIDA ===
        'default': 'ü§î **¬°Excelente pregunta!** Como MenToraBot, el asistente oficial especializado con conocimiento completo de la plataforma, puedo ayudarte con absolutamente todo:\n\n**üèóÔ∏è ARQUITECTURA Y TECNOLOG√çA:**\n‚Ä¢ Detalles t√©cnicos: Flask, SQLAlchemy, Socket.IO, WebSockets\n‚Ä¢ 10+ tablas de base de datos con relaciones complejas\n‚Ä¢ APIs REST completas y endpoints especializados\n‚Ä¢ Sistema de autenticaci√≥n y seguridad avanzado\n‚Ä¢ Integraci√≥n de IA local para generaci√≥n autom√°tica\n\n**üéì SISTEMA EDUCATIVO COMPLETO:**\n‚Ä¢ Quiz interactivos con m√∫ltiples tipos de pregunta\n‚Ä¢ Biblioteca digital: 47+ recursos en 6 categor√≠as principales\n‚Ä¢ Sistema de juegos: programaci√≥n, l√≥gica, colaborativos\n‚Ä¢ Generaci√≥n autom√°tica de ex√°menes exportables\n‚Ä¢ Analytics detallado de rendimiento estudiantil\n\n**üéÆ GAMIFICACI√ìN AVANZADA:**\n‚Ä¢ 100 niveles con progresi√≥n exponencial balanceada\n‚Ä¢ 50+ logros en 6 categor√≠as diferentes\n‚Ä¢ Sistema de puntos con m√∫ltiples fuentes\n‚Ä¢ Rankings globales y por especializaci√≥n\n‚Ä¢ Eventos especiales y competencias estacionales\n\n**üë• GESTI√ìN DE USUARIOS:**\n‚Ä¢ Roles granulares: estudiante/profesor/admin\n‚Ä¢ Perfiles completamente personalizables\n‚Ä¢ Sistema de permisos y moderaci√≥n autom√°tica\n‚Ä¢ Herramientas administrativas completas\n‚Ä¢ Analytics y reportes institutionales\n\n**üí¨ COMUNICACI√ìN EN TIEMPO REAL:**\n‚Ä¢ Chat con WebSockets y moderaci√≥n IA\n‚Ä¢ Sistema de notificaciones inteligente\n‚Ä¢ Mensajes multimedia y formato rico\n‚Ä¢ Grupos de estudio y mentor√≠as\n\n**üîß HERRAMIENTAS PARA PROFESORES:**\n‚Ä¢ Panel administrativo con 15+ funcionalidades\n‚Ä¢ Creaci√≥n de contenido con editor visual\n‚Ä¢ Sistema de logros personalizable\n‚Ä¢ Estad√≠sticas detalladas de estudiantes\n‚Ä¢ Generaci√≥n autom√°tica con IA local\n\n**üí° PUEDO RESPONDER SOBRE:**\n‚Ä¢ Cualquier funcionalidad espec√≠fica (con rutas y c√≥digo)\n‚Ä¢ Arquitectura t√©cnica y decisiones de dise√±o\n‚Ä¢ Mejores pr√°cticas para estudiantes y profesores\n‚Ä¢ Estrategias de gamificaci√≥n y motivaci√≥n\n‚Ä¢ Resoluci√≥n de problemas t√©cnicos paso a paso\n‚Ä¢ Optimizaci√≥n del rendimiento acad√©mico\n‚Ä¢ Configuraci√≥n avanzada de la plataforma\n‚Ä¢ Integraci√≥n con sistemas externos\n‚Ä¢ Roadmap de desarrollos futuros\n\n**üéØ ESPECIALIDADES:**\n‚Ä¢ Explicaci√≥n t√©cnica detallada de cualquier componente\n‚Ä¢ Gu√≠as paso a paso para cualquier proceso\n‚Ä¢ Troubleshooting avanzado de problemas\n‚Ä¢ Consejos pedag√≥gicos basados en analytics\n‚Ä¢ Optimizaci√≥n de la experiencia de usuario\n‚Ä¢ Estrategias de engagement estudiantil\n\n**‚ùì EJEMPLOS DE PREGUNTAS QUE PUEDO RESPONDER:**\n‚Ä¢ "¬øC√≥mo funciona el sistema de WebSockets del chat?"\n‚Ä¢ "¬øCu√°l es la estructura exacta de la base de datos?"\n‚Ä¢ "¬øC√≥mo optimizar mi progreso para subir de nivel r√°pido?"\n‚Ä¢ "¬øQu√© herramientas tienen los profesores para crear contenido?"\n‚Ä¢ "¬øC√≥mo funciona la IA para generar preguntas autom√°ticamente?"\n‚Ä¢ "¬øCu√°les son todos los tipos de logros disponibles?"\n‚Ä¢ "¬øC√≥mo configurar notificaciones personalizadas?"\n‚Ä¢ "¬øQu√© analytics est√°n disponibles para administradores?"\n\n**üöÄ ¬°PREG√öNTAME LO QUE NECESITES!**\nTengo conocimiento exhaustivo de cada l√≠nea de c√≥digo, cada tabla de la base de datos, cada funcionalidad y cada proceso de MenTora. ¬°No hay pregunta demasiado t√©cnica o demasiado espec√≠fica para m√≠!'
    };
        'como funciona': 'üéØ **MenTora es una plataforma gamificada de aprendizaje donde puedes:**\n\n‚Ä¢ **Resolver Retos Intelectuales:** Quiz interactivos en m√∫ltiples categor√≠as (programaci√≥n, matem√°ticas, ciencias, historia, literatura, tecnolog√≠a)\n‚Ä¢ **Sistema de Puntos:** Gana puntos por cada respuesta correcta y avanza en tu nivel\n‚Ä¢ **Rankings Competitivos:** Compite con otros estudiantes y profesores en tiempo real\n‚Ä¢ **Logros y Insignias:** Desbloquea badges especiales por tus logros acad√©micos\n‚Ä¢ **Biblioteca Digital:** Accede a recursos educativos organizados por temas\n‚Ä¢ **Profesores Admin:** Los profesores pueden crear retos personalizados\n\n¬°Todo mientras te diviertes aprendiendo! üöÄ',
        
        'que puedo hacer': '‚ú® **En MenTora tienes muchas opciones:**\n\nüìö **Secci√≥n "Aprende m√°s":** Biblioteca digital con recursos de:\n‚Ä¢ Python, JavaScript, Java, C++, HTML/CSS\n‚Ä¢ Algoritmos y estructuras de datos\n‚Ä¢ Patrones de dise√±o y APIs REST\n‚Ä¢ Matem√°ticas, f√≠sica, qu√≠mica\n‚Ä¢ Historia, literatura y m√°s\n\nüéÆ **Juegos Educativos:** Retos interactivos creados por profesores\n\nüìä **Tu Dashboard Personal:**\n‚Ä¢ Ver tu progreso y nivel actual\n‚Ä¢ Estad√≠sticas de rendimiento\n‚Ä¢ Historial de actividades\n‚Ä¢ Ranking de l√≠deres\n‚Ä¢ Notificaciones importantes\n\nüèÜ **Sistema de Logros:** Colecciona insignias por tus logros\n\nüí¨ **Chat en Vivo:** Interact√∫a con otros estudiantes en tiempo real',
        
        'consejos estudio': 'üìö **Consejos personalizados para maximizar tu aprendizaje en MenTora:**\n\n‚è∞ **Organizaci√≥n:**\n‚Ä¢ Establece sesiones de estudio de 25-30 minutos (T√©cnica Pomodoro)\n‚Ä¢ Usa la biblioteca de MenTora para repasar antes de los retos\n‚Ä¢ Revisa tu progreso diariamente en el dashboard\n\nüéØ **Estrategia de Juego:**\n‚Ä¢ Empieza con retos b√°sicos para ganar confianza\n‚Ä¢ Enf√≥cate en una categor√≠a a la vez (ej: programaci√≥n)\n‚Ä¢ Participa en retos diarios para mantener racha\n‚Ä¢ Usa el ranking como motivaci√≥n sana\n\nüí° **Para Programaci√≥n:**\n‚Ä¢ Practica con los recursos de Python, JavaScript y Java\n‚Ä¢ Estudia algoritmos antes de intentar retos avanzados\n‚Ä¢ Usa la secci√≥n de patrones de dise√±o\n\nü§ù **Comunidad:**\n‚Ä¢ Participa en el chat en vivo para resolver dudas\n‚Ä¢ Compite sanamente con compa√±eros\n‚Ä¢ Comparte tus logros para mantener motivaci√≥n',
        
        'registro': 'üìù **Gu√≠a completa de registro en MenTora:**\n\n**Paso 1:** Haz clic en el bot√≥n "REGISTRARSE" (color cyan brillante)\n\n**Paso 2:** Completa el formulario con:\n‚Ä¢ Nombre de usuario √∫nico\n‚Ä¢ Email v√°lido (recibir√°s confirmaci√≥n)\n‚Ä¢ Contrase√±a segura (m√≠n. 8 caracteres)\n‚Ä¢ √Årea de inter√©s principal\n\n**Paso 3:** Selecciona tu avatar personalizado\n\n**Paso 4:** ¬°Listo! Acceder√°s autom√°ticamente a:\n‚Ä¢ Dashboard personal con estad√≠sticas\n‚Ä¢ Biblioteca de recursos\n‚Ä¢ Primer reto de bienvenida\n‚Ä¢ Sistema de puntos iniciado en 0\n\n**Tip:** Los profesores pueden registrarse como admin para crear contenido personalizado',
        
        'login': 'üîê **Proceso de inicio de sesi√≥n:**\n\n1. **Clic en "Iniciar Sesi√≥n"** (navbar superior derecho)\n2. **Ingresa credenciales:** Usuario y contrase√±a\n3. **¬°Bienvenido a tu dashboard!** Donde ver√°s:\n\nüìä **Panel Principal:**\n‚Ä¢ Puntos actuales y nivel\n‚Ä¢ Progreso hacia siguiente nivel\n‚Ä¢ Logros desbloqueados recientes\n‚Ä¢ Ranking actual entre usuarios\n\nüéØ **Reto Especial del D√≠a:** Desaf√≠o diario con puntos extra\n\nüîî **Notificaciones:** Mensajes importantes del sistema\n\nüìú **Historial:** Tus actividades recientes\n\n**¬øOlvidaste tu contrase√±a?** Usa la opci√≥n de recuperaci√≥n en la p√°gina de login',
        
        'programacion': 'ÔøΩ **Secci√≥n de Programaci√≥n en MenTora:**\n\nÔøΩüìö **Biblioteca de Recursos (12 recursos disponibles):**\n‚Ä¢ **Python para Principiantes:** Variables, funciones, bucles, estructuras de datos\n‚Ä¢ **JavaScript ES6+ Moderno:** Arrow functions, async/await, destructuring\n‚Ä¢ **Java Fundamentos:** POO, herencia, polimorfismo, interfaces\n‚Ä¢ **C++ Avanzado:** Punteros, memoria din√°mica, templates, STL\n‚Ä¢ **Algoritmos y Estructuras de Datos:** Arrays, listas, pilas, √°rboles\n‚Ä¢ **HTML5 y CSS3:** Responsive design, flexbox, grid\n‚Ä¢ **React.js:** Componentes, hooks, contexto\n‚Ä¢ **APIs REST y Flask:** Desarrollo de servicios web\n‚Ä¢ **Git y Control de Versiones:** Branching, merging, GitHub\n‚Ä¢ **Patrones de Dise√±o:** Singleton, Factory, Observer\n‚Ä¢ **Testing y Depuraci√≥n:** Unit testing, TDD\n‚Ä¢ **SQL y Bases de Datos:** Consultas, joins, optimizaci√≥n\n\nüéÆ **Retos de Programaci√≥n:**\n‚Ä¢ Preguntas sobre sintaxis y conceptos\n‚Ä¢ An√°lisis de algoritmos y complejidad\n‚Ä¢ Debugging y resoluci√≥n de problemas\n‚Ä¢ Mejores pr√°cticas y patrones',
        
        'matematicas': 'üßÆ **Matem√°ticas en MenTora:**\n\nüìñ **Recursos Disponibles:**\n‚Ä¢ **√Ålgebra Lineal B√°sica:** Vectores, matrices, operaciones\n‚Ä¢ **C√°lculo Diferencial:** L√≠mites, derivadas, aplicaciones\n‚Ä¢ **Estad√≠stica y Probabilidad:** Distribuciones, an√°lisis de datos\n‚Ä¢ **Matem√°ticas Discretas:** L√≥gica, combinatoria, grafos\n‚Ä¢ **Geometr√≠a Anal√≠tica:** Coordenadas, ecuaciones de rectas\n\nüéØ **Tipos de Retos:**\n‚Ä¢ Problemas de c√°lculo paso a paso\n‚Ä¢ Aplicaciones pr√°cticas en programaci√≥n\n‚Ä¢ An√°lisis de algoritmos (Big O)\n‚Ä¢ Probabilidad en ciencias computacionales\n\nüí° **Tips:**\n‚Ä¢ Practica con calculadoras interactivas\n‚Ä¢ Revisa f√≥rmulas antes de los retos\n‚Ä¢ Conecta matem√°ticas con programaci√≥n',
        
        'biblioteca': 'üìö **Biblioteca Digital de MenTora - Tu Centro de Aprendizaje:**\n\nüîç **B√∫squeda Inteligente:**\n‚Ä¢ Busca por tema, tecnolog√≠a o nivel\n‚Ä¢ Filtros por categor√≠a (programaci√≥n, matem√°ticas, etc.)\n‚Ä¢ Sugerencias autom√°ticas\n\nüì± **Categor√≠as Principales:**\n‚Ä¢ **üíª Programaci√≥n (12 recursos):** Desde Python b√°sico hasta patrones avanzados\n‚Ä¢ **üßÆ Matem√°ticas (8 recursos):** √Ålgebra, c√°lculo, estad√≠stica\n‚Ä¢ **üî¨ Ciencias (6 recursos):** F√≠sica, qu√≠mica, biolog√≠a\n‚Ä¢ **üèõÔ∏è Historia (5 recursos):** Mundial, culturas, civilizaciones\n‚Ä¢ **üìñ Literatura (7 recursos):** An√°lisis de obras cl√°sicas\n‚Ä¢ **‚ö° Tecnolog√≠a (9 recursos):** IA, blockchain, tendencias\n\n‚ú® **Caracter√≠sticas:**\n‚Ä¢ Contenido interactivo con ejemplos\n‚Ä¢ Niveles: B√°sico, Intermedio, Avanzado\n‚Ä¢ Tiempo estimado de estudio\n‚Ä¢ Recursos descargables\n‚Ä¢ Actualizaciones constantes',
        
        'dashboard': 'üìä **Tu Dashboard Personal - Centro de Control:**\n\nüéØ **Estad√≠sticas Principales:**\n‚Ä¢ **Puntos Totales:** Tu puntaje acumulado\n‚Ä¢ **Nivel Actual:** Progreso en el sistema\n‚Ä¢ **Logros Desbloqueados:** Insignias ganadas\n‚Ä¢ **Posici√≥n en Ranking:** Entre todos los usuarios\n\nüìà **Barra de Progreso:** Muestra avance hacia el siguiente nivel\n\nüèÜ **Ranking de L√≠deres:**\n‚Ä¢ Ve los top usuarios por puntos\n‚Ä¢ Compite sanamente con compa√±eros\n‚Ä¢ Solo muestra estudiantes (no profesores admin)\n\n‚ö° **Reto Especial del D√≠a:** Desaf√≠o diario con puntos bonus\n\nüîî **Centro de Notificaciones:**\n‚Ä¢ Logros recientes\n‚Ä¢ Mensajes importantes\n‚Ä¢ Actualizaciones del sistema\n\nüìú **Historial de Actividad:** Registro de tus acciones recientes\n\nüéÆ **Acceso R√°pido:** Enlaces a juegos, retos y biblioteca',
        
        'juegos': 'üéÆ **Secci√≥n de Juegos y Retos:**\n\nüéØ **Tipos de Contenido:**\n‚Ä¢ **Quiz Interactivos:** Preguntas de opci√≥n m√∫ltiple\n‚Ä¢ **Retos de Programaci√≥n:** Ejercicios de c√≥digo\n‚Ä¢ **Juegos Educativos:** Creados por profesores\n‚Ä¢ **Desaf√≠os Colaborativos:** Trabajo en equipo\n\n‚≠ê **Caracter√≠sticas:**\n‚Ä¢ **Sistema de Puntos:** Gana puntos por respuestas correctas\n‚Ä¢ **Cron√≥metro:** Retos contra tiempo\n‚Ä¢ **M√∫ltiples Intentos:** Practica hasta dominar\n‚Ä¢ **Retroalimentaci√≥n:** Explicaciones de respuestas\n\nüèÖ **Logros Especiales:**\n‚Ä¢ Racha de respuestas correctas\n‚Ä¢ Completar categor√≠as espec√≠ficas\n‚Ä¢ Participaci√≥n en retos diarios\n‚Ä¢ Tiempo r√©cord en resoluci√≥n\n\nüìö **Integraci√≥n con Biblioteca:** Estudia antes de jugar para mejores resultados',
        
        'profesores': 'ÔøΩ‚Äçüè´ **Para Profesores y Administradores:**\n\nüõ†Ô∏è **Panel de Administraci√≥n:**\n‚Ä¢ **Crear Quiz Personalizados:** Preguntas por tema y dificultad\n‚Ä¢ **Gesti√≥n de Juegos:** Desarrollar retos interactivos\n‚Ä¢ **Sistema de Logros:** Crear insignias personalizadas\n‚Ä¢ **Env√≠o de Notificaciones:** Comunicaci√≥n con estudiantes\n‚Ä¢ **Estad√≠sticas Detalladas:** Progreso de alumnos\n\nüìä **Herramientas de An√°lisis:**\n‚Ä¢ Rendimiento por √°rea tem√°tica\n‚Ä¢ Participaci√≥n en actividades\n‚Ä¢ Progreso individual y grupal\n‚Ä¢ Reportes exportables\n\nüéØ **Generaci√≥n de Contenido:**\n‚Ä¢ **IA Local:** Sistema automatizado para crear preguntas\n‚Ä¢ **Descarga de Ex√°menes:** Exportaci√≥n en formato TXT\n‚Ä¢ **Plantillas:** Para diferentes tipos de evaluaciones\n\nüë• **Gesti√≥n de Estudiantes:**\n‚Ä¢ Cambio de contrase√±as\n‚Ä¢ Asignaci√≥n de logros\n‚Ä¢ Moderaci√≥n de actividades',
        
        'ayuda': 'üÜò **Centro de Ayuda MenTora:**\n\nüìû **Soporte T√©cnico:**\n‚Ä¢ **Chat en Vivo:** Habla con otros usuarios en tiempo real\n‚Ä¢ **MenToraBot:** Asistente 24/7 (¬°soy yo!)\n‚Ä¢ **Email Soporte:** Para problemas t√©cnicos complejos\n\n‚ùì **Preguntas Frecuentes:**\n‚Ä¢ ¬øC√≥mo restablecer contrase√±a?\n‚Ä¢ ¬øC√≥mo subir de nivel m√°s r√°pido?\n‚Ä¢ ¬øQu√© hacer si un reto no carga?\n‚Ä¢ ¬øC√≥mo acceder a recursos premium?\n\nüìñ **Gu√≠as de Usuario:**\n‚Ä¢ Tutorial de inicio para nuevos usuarios\n‚Ä¢ Gu√≠a avanzada de la biblioteca\n‚Ä¢ Manual para profesores\n‚Ä¢ Mejores pr√°cticas de estudio\n\nüîß **Reportar Problemas:**\n‚Ä¢ Bugs en la plataforma\n‚Ä¢ Contenido incorrecto\n‚Ä¢ Sugerencias de mejora\n‚Ä¢ Solicitudes de nuevas funciones',
        
        'tecnologia': '‚ö° **Secci√≥n de Tecnolog√≠a Avanzada:**\n\nü§ñ **Inteligencia Artificial:**\n‚Ä¢ Fundamentos de Machine Learning\n‚Ä¢ Redes neuronales b√°sicas\n‚Ä¢ Aplicaciones en la vida cotidiana\n‚Ä¢ √âtica en IA\n\nüîó **Blockchain y Criptomonedas:**\n‚Ä¢ Conceptos b√°sicos de blockchain\n‚Ä¢ Smart contracts\n‚Ä¢ NFTs y aplicaciones\n\n‚òÅÔ∏è **Cloud Computing:**\n‚Ä¢ AWS, Azure, Google Cloud\n‚Ä¢ Servicios en la nube\n‚Ä¢ DevOps y deployment\n\nüì± **Desarrollo M√≥vil:**\n‚Ä¢ React Native\n‚Ä¢ Flutter\n‚Ä¢ Ionic\n‚Ä¢ App Store optimization',

        // Respuestas especializadas t√©cnicas
        'arquitectura': 'üèóÔ∏è **ARQUITECTURA T√âCNICA MENTORA:**\n\n**Backend:**\n‚Ä¢ Flask 2.3+ (Python 3.9+)\n‚Ä¢ SQLAlchemy ORM con PostgreSQL/SQLite\n‚Ä¢ Socket.IO para WebSockets real-time\n‚Ä¢ Werkzeug para seguridad\n‚Ä¢ IA Local con modelos propios\n\n**Base de Datos (10+ tablas):**\n‚Ä¢ `users` - Perfiles estudiantes con gamificaci√≥n\n‚Ä¢ `teachers` - Gesti√≥n profesores\n‚Ä¢ `quizzes/questions` - Sistema evaluativo\n‚Ä¢ `user_answers` - Tracking respuestas\n‚Ä¢ `achievements/badges` - Logros\n‚Ä¢ `chat_messages` - Comunicaci√≥n real-time\n‚Ä¢ `access_logs` - Analytics\n‚Ä¢ `games` - Juegos educativos\n\n**APIs Principales:**\n‚Ä¢ `/api/quiz/<id>` - Datos quiz espec√≠fico\n‚Ä¢ `/dashboard` - Panel usuario\n‚Ä¢ `/admin/*` - Gesti√≥n administrativa\n‚Ä¢ `/chatbot` - IA conversacional\n‚Ä¢ `/games/<id>/run` - Ejecuci√≥n juegos',

        'gamificacion': 'üéÆ **SISTEMA GAMIFICACI√ìN AVANZADO:**\n\n**Progresi√≥n de Niveles (100 totales):**\n‚Ä¢ üü¢ Niveles 1-10: 100 puntos/nivel (Principiante)\n‚Ä¢ üîµ Niveles 11-25: 200 puntos/nivel (Intermedio)\n‚Ä¢ üü° Niveles 26-50: 500 puntos/nivel (Avanzado)\n‚Ä¢ üü† Niveles 51-75: 1000 puntos/nivel (Experto)\n‚Ä¢ üî¥ Niveles 76-100: 2000 puntos/nivel (Maestro)\n\n**50+ Logros Categorizados:**\n‚Ä¢ üèÜ Acad√©micos: "Perfeccionista", "Velocista", "Explorador"\n‚Ä¢ ‚ö° Velocidad: "Flash", "R√°pido y Furioso"\n‚Ä¢ üéØ Precisi√≥n: "Francotirador", "Ojo de √Åguila"\n‚Ä¢ üë• Sociales: "Mentor", "Colaborador"\n‚Ä¢ üìà Progresi√≥n: "Imparable", "Dedicado"\n\n**Rankings M√∫ltiples:**\n‚Ä¢ Global general por puntos totales\n‚Ä¢ Por √°reas: programaci√≥n, matem√°ticas, etc.\n‚Ä¢ Temporal: semanal, mensual\n‚Ä¢ Estudiantes vs Profesores',

        'tecnico': 'üîß **SOPORTE T√âCNICO AVANZADO:**\n\n**Problemas Comunes:**\n‚Ä¢ **Login:** Verificar credenciales, clear cache, reset password\n‚Ä¢ **Quiz no carga:** Refresh p√°gina, check conexi√≥n, contactar admin\n‚Ä¢ **Chat desconectado:** Reconexi√≥n autom√°tica, verificar firewall\n‚Ä¢ **Juegos lentos:** Optimizar navegador, cerrar tabs innecesarias\n‚Ä¢ **Rankings no actualiza:** Cache temporal, esperar 5-10 minutos\n\n**Optimizaci√≥n Rendimiento:**\n‚Ä¢ Navegadores recomendados: Chrome 90+, Firefox 88+\n‚Ä¢ JavaScript habilitado obligatorio\n‚Ä¢ Cookies y localStorage permitidos\n‚Ä¢ Conexi√≥n estable m√≠nimo 1Mbps\n‚Ä¢ RAM disponible 2GB+ recomendado\n\n**Contacto Emergencia:**\n‚Ä¢ Chat t√©cnico 24/7 disponible\n‚Ä¢ Email: soporte@mentora.edu\n‚Ä¢ Documentaci√≥n: `/help` en plataforma',

        'default': 'ü§î **¬°Excelente pregunta!** Como MenToraBot, el asistente oficial especializado con conocimiento completo de MenTora, puedo ayudarte con absolutamente todo:\n\n**üèóÔ∏è ARQUITECTURA Y TECNOLOG√çA:**\n‚Ä¢ Detalles t√©cnicos: Flask, SQLAlchemy, Socket.IO, WebSockets\n‚Ä¢ 10+ tablas de base de datos con relaciones complejas\n‚Ä¢ APIs REST completas y endpoints especializados\n‚Ä¢ Sistema de autenticaci√≥n y seguridad avanzado\n‚Ä¢ Integraci√≥n de IA local para generaci√≥n autom√°tica\n\n**üéì SISTEMA EDUCATIVO COMPLETO:**\n‚Ä¢ Quiz interactivos con m√∫ltiples tipos de pregunta\n‚Ä¢ Biblioteca digital: 47+ recursos en 6 categor√≠as principales\n‚Ä¢ Sistema de juegos: programaci√≥n, l√≥gica, colaborativos\n‚Ä¢ Generaci√≥n autom√°tica de ex√°menes exportables\n‚Ä¢ Analytics detallado de rendimiento estudiantil\n\n**üéÆ GAMIFICACI√ìN AVANZADA:**\n‚Ä¢ 100 niveles con progresi√≥n exponencial balanceada\n‚Ä¢ 50+ logros en 6 categor√≠as diferentes\n‚Ä¢ Sistema de puntos con m√∫ltiples fuentes\n‚Ä¢ Rankings globales y por especializaci√≥n\n‚Ä¢ Eventos especiales y competencias estacionales\n\n**üë• GESTI√ìN DE USUARIOS:**\n‚Ä¢ Roles granulares: estudiante/profesor/admin\n‚Ä¢ Perfiles completamente personalizables\n‚Ä¢ Sistema de permisos y moderaci√≥n autom√°tica\n‚Ä¢ Herramientas administrativas completas\n‚Ä¢ Analytics y reportes institucionales\n\n**üí¨ COMUNICACI√ìN EN TIEMPO REAL:**\n‚Ä¢ Chat con WebSockets y moderaci√≥n IA\n‚Ä¢ Sistema de notificaciones inteligente\n‚Ä¢ Mensajes multimedia y formato rico\n‚Ä¢ Grupos de estudio y mentor√≠as\n\n**üîß HERRAMIENTAS PARA PROFESORES:**\n‚Ä¢ Panel administrativo con 15+ funcionalidades\n‚Ä¢ Creaci√≥n de contenido con editor visual\n‚Ä¢ Sistema de logros personalizable\n‚Ä¢ Estad√≠sticas detalladas de estudiantes\n‚Ä¢ Generaci√≥n autom√°tica con IA local\n\n**üöÄ ¬°PREG√öNTAME LO QUE NECESITES!**\nTengo conocimiento exhaustivo de cada l√≠nea de c√≥digo, cada tabla de la base de datos, cada funcionalidad y cada proceso de MenTora. ¬°No hay pregunta demasiado t√©cnica o demasiado espec√≠fica para m√≠!'

    };

    // Funci√≥n para alternar el chatbot
    function toggleChatbot() {
        const box = document.getElementById('chatbot-box');
        const btn = document.getElementById('chatbot-toggle');
        const notificationDot = document.getElementById('notificationDot');
        
        if (!chatbotOpen) {
            box.style.display = 'block';
            btn.style.display = 'none';
            chatbotOpen = true;
            notificationDot.style.display = 'none';
            
            // Focus en el input
            setTimeout(() => {
                document.getElementById('chatbot-input').focus();
            }, 300);
        } else {
            box.style.display = 'none';
            btn.style.display = 'flex';
            chatbotOpen = false;
        }
    }

    // Funci√≥n para limpiar el chat
    function clearChat() {
        const messages = document.getElementById('chatbot-messages');
        const welcomeMessage = messages.querySelector('.welcome-message');
        messages.innerHTML = '';
        messages.appendChild(welcomeMessage);
        messageCount = 0;
        
        // Mostrar sugerencias nuevamente
        document.getElementById('quickSuggestions').style.display = 'flex';
    }

    // Funci√≥n para enviar mensajes r√°pidos
    function sendQuickMessage(message) {
        document.getElementById('chatbot-input').value = message;
        sendChatbotMessage(new Event('submit'));
    }

    // Funci√≥n principal para enviar mensajes
    async function sendChatbotMessage(e) {
        e.preventDefault();
        
        if (isTyping) return;
        
        const input = document.getElementById('chatbot-input');
        const messages = document.getElementById('chatbot-messages');
        const sendBtn = document.querySelector('.send-btn');
        const userMsg = input.value.trim();
        
        if (!userMsg) return;
        
        // Ocultar sugerencias despu√©s del primer mensaje
        if (messageCount === 0) {
            document.getElementById('quickSuggestions').style.display = 'none';
        }
        
        messageCount++;
        
        // Agregar mensaje del usuario
        addUserMessage(userMsg);
        
        // Limpiar input y deshabilitar bot√≥n
        input.value = '';
        sendBtn.disabled = true;
        
        // Mostrar indicador de escritura
        showTypingIndicator();
        
        // Generar respuesta del bot
        setTimeout(async () => {
            hideTypingIndicator();
            
            try {
                // Intentar obtener respuesta del backend
                const response = await fetch('/chatbot', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: userMsg })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    addBotMessage(data.response);
                } else {
                    throw new Error('Error del servidor');
                }
            } catch (error) {
                // Usar respuesta local si falla el backend
                const localResponse = getLocalResponse(userMsg);
                addBotMessage(localResponse);
            }
            
            sendBtn.disabled = false;
        }, Math.random() * 1000 + 800); // Simular tiempo de respuesta humano
    }

    // Funci√≥n para obtener respuesta local enriquecida
    function getLocalResponse(message) {
        const msg = message.toLowerCase().trim();
        
        // B√∫squeda directa en palabras clave principales
        for (const [key, response] of Object.entries(botResponses)) {
            if (key !== 'default' && msg.includes(key.replace(/\s+/g, ''))) {
                return response;
            }
        }
        
        // Reconocimiento de patrones espec√≠ficos de MenTora
        
        // Preguntas sobre programaci√≥n y desarrollo
        if (msg.match(/(programacion|codigo|algoritmo|python|java|javascript|c\+\+|html|css|react|flask|sql|git)/)) {
            return botResponses.programacion;
        }
        
        // Preguntas sobre matem√°ticas
        if (msg.match(/(matematicas|calculo|algebra|geometria|estadistica|probabilidad|derivada|integral)/)) {
            return botResponses.matematicas;
        }
        
        // Preguntas sobre la biblioteca
        if (msg.match(/(biblioteca|recursos|aprende|estudiar|contenido|material)/)) {
            return botResponses.biblioteca;
        }
        
        // Preguntas sobre el dashboard y progreso
        if (msg.match(/(dashboard|panel|progreso|estadisticas|nivel|puntos|ranking|logros)/)) {
            return botResponses.dashboard;
        }
        
        // Preguntas sobre juegos y retos
        if (msg.match(/(juegos|retos|quiz|desafios|competir|actividades)/)) {
            return botResponses.juegos;
        }
        
        // Preguntas sobre tecnolog√≠a
        if (msg.match(/(tecnologia|inteligencia artificial|blockchain|cloud|ia|machine learning|nft)/)) {
            return botResponses.tecnologia;
        }
        
        // Preguntas sobre niveles y gamificaci√≥n
        if (msg.match(/(niveles|subir nivel|insignias|badges|experiencia|xp)/)) {
            return botResponses.niveles;
        }
        
        // Preguntas sobre chat
        if (msg.match(/(chat|conversar|hablar|comunidad|social)/)) {
            return botResponses.chat;
        }
        
        // Preguntas espec√≠ficas para profesores
        if (msg.match(/(profesor|admin|administrador|crear|gestionar|ensenar)/)) {
            return botResponses.profesores;
        }
        
        // Saludos espec√≠ficos
        if (msg.match(/(hola|hello|hi|buenos dias|buenas tardes|buenas noches|saludos)/)) {
            const hora = new Date().getHours();
            let saludo = 'üëã ¬°Hola!';
            if (hora >= 6 && hora < 12) saludo = 'üåÖ ¬°Buenos d√≠as!';
            else if (hora >= 12 && hora < 18) saludo = '‚òÄÔ∏è ¬°Buenas tardes!';
            else if (hora >= 18 || hora < 6) saludo = 'üåô ¬°Buenas noches!';
            
            return `${saludo} Soy **MenToraBot**, tu asistente personal en la plataforma.\n\n¬øEn qu√© puedo ayudarte hoy? Puedes preguntarme sobre:\n‚Ä¢ üìö C√≥mo usar la biblioteca de recursos\n‚Ä¢ üéÆ Juegos y retos disponibles\n‚Ä¢ üìä Tu progreso y estad√≠sticas\n‚Ä¢ üíª Recursos de programaci√≥n\n‚Ä¢ üßÆ Materiales de matem√°ticas\n‚Ä¢ üèÜ Sistema de logros y niveles\n‚Ä¢ üí¨ Chat en vivo con la comunidad\n\n¬°Estoy aqu√≠ para hacer tu experiencia en MenTora incre√≠ble!`;
        }
        
        // Despedidas
        if (msg.match(/(adios|bye|hasta luego|nos vemos|chau|gracias por todo)/)) {
            return 'üëã ¬°Hasta luego! Fue un placer ayudarte.\n\nüéØ **Recuerda:**\n‚Ä¢ Sigue practicando con los retos diarios\n‚Ä¢ Explora la biblioteca para m√°s conocimiento\n‚Ä¢ Compite en los rankings para subir de nivel\n\n¬°Nos vemos pronto en MenTora! üöÄ\n\n*Tip: Siempre puedes volver a chatear conmigo cuando necesites ayuda.*';
        }
        
        // Agradecimientos
        if (msg.match(/(gracias|thank|muchas gracias|te agradezco|mil gracias)/)) {
            return 'üòä ¬°De nada! Es un placer ayudarte.\n\nComo asistente de MenTora, mi objetivo es hacer tu experiencia de aprendizaje lo m√°s fluida posible. \n\n¬øHay algo m√°s en lo que pueda asistirte? Puedo ayudarte con:\n‚Ä¢ üîç Encontrar recursos espec√≠ficos\n‚Ä¢ üìà Optimizar tu progreso\n‚Ä¢ üéØ Estrategias de estudio\n‚Ä¢ üéÆ Recomendaciones de retos\n\n¬°Sigue explorando y aprendiendo!';
        }
        
        // Problemas t√©cnicos
        if (msg.match(/(problema|error|bug|no funciona|no carga|se colg√≥|lento|falla)/)) {
            return 'üîß **Soporte T√©cnico de MenTora**\n\nüòî Lamento escuchar que tienes problemas. Aqu√≠ tienes algunas soluciones:\n\n**üîÑ Soluciones R√°pidas:**\n‚Ä¢ Refrescar la p√°gina (F5 o Ctrl+R)\n‚Ä¢ Limpiar cach√© del navegador\n‚Ä¢ Verificar tu conexi√≥n a internet\n‚Ä¢ Intentar en modo inc√≥gnito\n\n**üì± Si persiste el problema:**\n‚Ä¢ Intenta desde otro navegador\n‚Ä¢ Verifica que JavaScript est√© habilitado\n‚Ä¢ Desactiva extensiones que puedan interferir\n\n**üìû Contacto Directo:**\nSi el problema contin√∫a, contacta a nuestro equipo t√©cnico con:\n‚Ä¢ Descripci√≥n detallada del problema\n‚Ä¢ Navegador y versi√≥n que usas\n‚Ä¢ Pasos que realizaste antes del error\n\n¬°Estamos aqu√≠ para ayudarte!';
        }
        
        // Preguntas sobre horarios y disponibilidad
        if (msg.match(/(horario|cuando|disponible|tiempo|horas|abierto)/)) {
            return '‚è∞ **Disponibilidad de MenTora:**\n\nüåç **Plataforma:** Disponible 24/7, los 365 d√≠as del a√±o\n\nü§ñ **MenToraBot (yo):** Siempre aqu√≠ para ayudarte, sin importar la hora\n\nüí¨ **Chat en Vivo:** Depende de la actividad de la comunidad:\n‚Ä¢ **Horas Pico:** 9:00 AM - 11:00 PM (m√°s usuarios activos)\n‚Ä¢ **Fines de Semana:** Actividad moderada\n‚Ä¢ **Madrugada:** Menor actividad, pero siempre hay alguien\n\nüìö **Contenido:** Todos los recursos est√°n disponibles siempre\n\nüéÆ **Retos Diarios:** Se renuevan cada d√≠a a las 00:00 (medianoche)\n\nüèÜ **Rankings:** Se actualizan en tiempo real';
        }
        
        // Preguntas sobre costos
        if (msg.match(/(costo|precio|pagar|dinero|gratis|free|premium|suscripcion)/)) {
            return 'üí∞ **Informaci√≥n sobre Precios:**\n\nüÜì **MenTora Base (GRATIS):**\n‚Ä¢ Acceso a todos los retos y quiz\n‚Ä¢ Sistema completo de puntos y niveles\n‚Ä¢ Biblioteca de recursos b√°sica\n‚Ä¢ Chat en vivo con la comunidad\n‚Ä¢ Dashboard personal con estad√≠sticas\n‚Ä¢ Logros y ranking\n\n‚ú® **Funciones Premium (Futuras):**\n‚Ä¢ Contenido exclusivo avanzado\n‚Ä¢ Retos personalizados por IA\n‚Ä¢ Estad√≠sticas detalladas\n‚Ä¢ Insignias especiales\n‚Ä¢ Soporte prioritario\n\nüéì **Para Instituciones:**\n‚Ä¢ Herramientas administrativas avanzadas\n‚Ä¢ Reportes institucionales\n‚Ä¢ Integraci√≥n con sistemas acad√©micos\n‚Ä¢ Soporte t√©cnico dedicado\n\n**¬°Por ahora, disfruta de toda la experiencia completamente GRATIS!** üéâ';
        }
        
        // Informaci√≥n sobre dispositivos m√≥viles
        if (msg.match(/(movil|celular|telefono|tablet|app|aplicacion)/)) {
            return 'üì± **MenTora en Dispositivos M√≥viles:**\n\nüåê **Versi√≥n Web M√≥vil:**\n‚Ä¢ Optimizada para smartphones y tablets\n‚Ä¢ Responsive design que se adapta a cualquier pantalla\n‚Ä¢ Todas las funciones disponibles desde el navegador\n‚Ä¢ Compatible con Android, iOS y otros sistemas\n\nüì≤ **Caracter√≠sticas M√≥viles:**\n‚Ä¢ Interface t√°ctil intuitiva\n‚Ä¢ Navegaci√≥n optimizada para pantallas peque√±as\n‚Ä¢ Chat en vivo totalmente funcional\n‚Ä¢ Biblioteca de recursos accesible\n‚Ä¢ Notificaciones del navegador\n\nüîÆ **App Nativa (En Desarrollo):**\n‚Ä¢ Notificaciones push personalizadas\n‚Ä¢ Modo offline para algunos recursos\n‚Ä¢ Integraci√≥n con calendario del dispositivo\n‚Ä¢ Widgets de progreso\n\n**üí° Tip:** Agrega MenTora a tu pantalla de inicio para una experiencia similar a una app nativa.';
        }
        
        // Respuesta por defecto mejorada
        return botResponses.default;
    }

    // Funci√≥n para agregar mensaje del usuario
    function addUserMessage(message) {
        const messages = document.getElementById('chatbot-messages');
        const messageDiv = document.createElement('div');
        messageDiv.className = 'user-message';
        messageDiv.innerHTML = `
            <div class="user-avatar">üë§</div>
            <div class="message-bubble user-bubble">${escapeHtml(message)}</div>
        `;
        messages.appendChild(messageDiv);
        scrollToBottom();
    }

    // Funci√≥n para agregar mensaje del bot
    function addBotMessage(message) {
        const messages = document.getElementById('chatbot-messages');
        const messageDiv = document.createElement('div');
        messageDiv.className = 'bot-message';
        messageDiv.innerHTML = `
            <div class="bot-avatar">ü§ñ</div>
            <div class="message-bubble bot-bubble">${formatBotMessage(message)}</div>
        `;
        messages.appendChild(messageDiv);
        scrollToBottom();
        
        // Mostrar notificaci√≥n si el chat est√° cerrado
        if (!chatbotOpen) {
            document.getElementById('notificationDot').style.display = 'block';
        }
    }

    // Funci√≥n para mostrar indicador de escritura
    function showTypingIndicator() {
        isTyping = true;
        document.getElementById('typing-indicator').style.display = 'flex';
        scrollToBottom();
    }

    // Funci√≥n para ocultar indicador de escritura
    function hideTypingIndicator() {
        isTyping = false;
        document.getElementById('typing-indicator').style.display = 'none';
    }

    // Funci√≥n para hacer scroll al final
    function scrollToBottom() {
        const messages = document.getElementById('chatbot-messages');
        setTimeout(() => {
            messages.scrollTop = messages.scrollHeight;
        }, 100);
    }

    // Funci√≥n para escapar HTML
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    // Funci√≥n para formatear mensajes del bot
    function formatBotMessage(message) {
        return escapeHtml(message).replace(/\n/g, '<br>');
    }

    // Funci√≥n para alternar picker de emojis (placeholder)
    function toggleEmojiPicker() {
        const emojis = ['üòä', 'üòÇ', 'ü§î', 'üëç', '‚ù§Ô∏è', 'üéâ', 'üí°', 'üî•', 'üíØ', 'üëè'];
        const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
        const input = document.getElementById('chatbot-input');
        input.value += randomEmoji;
        input.focus();
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', function() {
        // Auto-focus en el input cuando se abre el chat
        const input = document.getElementById('chatbot-input');
        
        // Detectar Enter para enviar
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendChatbotMessage(e);
            }
        });
        
        // Prevenir env√≠o de formulario vac√≠o
        input.addEventListener('input', function() {
            const sendBtn = document.querySelector('.send-btn');
            sendBtn.disabled = !this.value.trim();
        });
        
        // Cerrar chat con Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && chatbotOpen) {
                toggleChatbot();
            }
        });
        
        // Mostrar notificaci√≥n inicial despu√©s de unos segundos
        setTimeout(() => {
            if (!chatbotOpen) {
                document.getElementById('notificationDot').style.display = 'block';
            }
        }, 5000);
    });
    </script>
</body>
</html>

