  const modalData = {
    "nosotros": {
        title: "Sobre MenTora",
        text: `
            <div style="padding: 10px;">
                <p>
                    Somos <strong>MenTora</strong>, una plataforma de EdTech innovadora comprometida con la 
                    <strong>transformación del aprendizaje profesional</strong>. Nuestra misión es desatar el
                     potencial de cada usuario a través de una metodología de <strong>aprendizaje basado en retos</strong>
                      (Challenge-Based Learning) altamente gamificada.
                </p>
                <p>
                    Nuestra visión es ser la plataforma líder a nivel global en el desarrollo de habilidades críticas del
                     siglo XXI (pensamiento crítico, resolución de problemas complejos, y creatividad), ofreciendo una experiencia
                      inmersiva, social y estratégicamente divertida. Fundada en la premisa de que <strong>aprender haciendo</strong>
                       es el camino más efectivo, nos dedicamos a construir un ecosistema donde la educación y la práctica profesional 
                       convergen.
                </p>

            </div>
        `
    },
    "privacidad": {
        title: "Política de Privacidad (Aviso de Privacidad)",
        text: `
            <div style="padding: 10px;">
                <h2>Actualización: 17 de Noviembre de 2025</h2>
<br>
<h3 style="color:#114c5f;">1. Recopilación de Información Personal</h3>
<p>
    MenTora (referida en adelante como "la Plataforma") recaba información que usted nos proporciona
    directamente al crear una cuenta, participar en desafíos o interactuar con la comunidad. Esta 
    información puede incluir:
</p>

<ul style="margin-left: 50px;">
    <li><strong>Datos de Identificación:</strong> Nombre completo, correo electrónico, nombre de usuario y contraseña (cifrada).</li>
    <li><strong>Datos de Uso y Desempeño:</strong> Progreso en retos, puntuaciones, insignias obtenidas, participación en cursos, comentarios en foros y cualquier interacción dentro de la Plataforma.</li>
    <li><strong>Datos Técnicos:</strong> Dirección IP, tipo de dispositivo, sistema operativo, fecha y hora de acceso,  
        y datos de navegación recopilados mediante cookies y tecnologías similares.</li>
    <li><strong>Datos Opcionales:</strong> Preferencias educativas, áreas de interés, o información que usted proporcione voluntariamente para personalizar su experiencia.</li>
</ul>

<br>

<h3 style="color:#114c5f;">2. Finalidad del Tratamiento de Datos</h3>
<p>
    Los datos recopilados son utilizados con los siguientes fines:
</p>

<ul style="margin-left: 50px;">
    <li><strong>Prestación del Servicio:</strong> Crear y gestionar su cuenta, permitir su participación en retos, foros y actividades educativas.</li>
    <li><strong>Mejora de la Experiencia:</strong> Personalizar contenido, recomendaciones y actividades según su progreso y preferencias.</li>
    <li><strong>Optimización y Seguridad:</strong> Analizar el uso de la Plataforma para mejorar su rendimiento, detectar actividades sospechosas y reforzar la seguridad.</li>
    <li><strong>Comunicaciones:</strong> Envío de avisos, notificaciones relacionadas con su cuenta, actualizaciones importantes y cambios en la Plataforma.</li>
    <li><strong>Fines Estadísticos:</strong> Generar métricas sobre desempeño, niveles de participación y evolución de los usuarios para mejora interna.</li>
</ul>

<br>

<h3 style="color:#114c5f;">3. Compartición y Transferencia de Datos</h3>
<p>
    <strong>MenTora NO vende ni alquila su información personal.</strong> Sus datos solo serán compartidos en 
    los siguientes escenarios limitados:
</p>

<ul style="margin-left: 50px;">
    <li><strong>Proveedores de Servicios:</strong> Con terceros que nos ayudan a operar la Plataforma (ej. 
        alojamiento web, servicios de correo, analítica, seguridad), los cuales están obligados por contrato 
        a mantener la confidencialidad y a utilizar los datos únicamente para los fines establecidos.</li>
    <li><strong>Cumplimiento Legal:</strong> Cuando sea requerido por ley, orden judicial o para proteger 
        los derechos legales de MenTora, la seguridad de otros usuarios o la integridad de la Plataforma.</li>
    <li><strong>Transferencias Académicas:</strong> En proyectos educativos vinculados con instituciones 
        oficiales, únicamente con fines estadísticos o de mejora, y siempre bajo estrictas medidas de protección.</li>
</ul>

<br>

<h3 style="color:#114c5f;">4. Derechos del Usuario (ARCO)</h3>
<p>
    Usted tiene derecho a acceder, rectificar, cancelar u oponerse al tratamiento de sus 
    datos personales (<strong>Derechos ARCO</strong>). También puede solicitar la limitación del uso de sus 
    datos o la portabilidad de los mismos.
</p>

<p>
    Para ejercer cualquiera de estos derechos, envíe una solicitud formal a:  
    <a href="ivonneroomeroo@gmail.com">mentora@gmail.com</a>
</p>

<br>

<h3 style="color:#114c5f;">5. Uso de Cookies y Tecnologías de Rastreo</h3>
<p>
    Utilizamos cookies y tecnologías similares para rastrear la actividad en la Plataforma y mejorar 
    su experiencia. Las cookies pueden ser:
</p>

<ul style="margin-left: 50px;">
    <li><strong>Esenciales:</strong> Necesarias para el funcionamiento básico de la Plataforma.</li>
    <li><strong>De Rendimiento:</strong> Utilizadas para análisis estadísticos y medición de uso.</li>
    <li><strong>De Funcionalidad:</strong> Permiten recordar configuraciones y preferencias del usuario.</li>
</ul>

<p>
    Al utilizar la Plataforma, usted acepta el uso de estas tecnologías. Puede deshabilitar las cookies 
    desde la configuración de su navegador, aunque esto podría limitar algunas funciones.
</p>

<p style="margin-top: 20px; font-size: 0.9em; color: #555;">
    <em>MenTora se reserva el derecho de modificar esta Política de Privacidad en cualquier 
    momento. Las modificaciones entrarán en vigor inmediatamente después de su publicación en la Plataforma. 
    Le recomendamos revisar esta sección periódicamente.</em>
</p>

        `
    },
    "terminos": {
        title: "Términos y Condiciones de Uso",
        text: `
            <div style="padding: 10px;">
                <p>
                    Al acceder o utilizar los servicios de <strong>MenTora</strong>, usted acepta quedar sujeto a los presentes
                    Términos y Condiciones. <strong> (Si no está de acuerdo con alguna parte de los términos, 
                    de ninguna manera usted debe utilizar la Plataforma.) </strong>
                </p>
                <br>
                <h3 style="color:#114c5f;"> 1. Elegibilidad y Cuentas de Usuario</h3>
                <p>
                    El uso de la Plataforma está disponible solo para personas que puedan formar contratos legalmente vinculantes. 
                    Usted es <strong>responsable</strong> de mantener la confidencialidad de su contraseña y de todas las actividades
                     que ocurran bajo su cuenta.
                </p>

                <br>
                <h3 style="color:#114c5f;"> 2. Actividades de Uso Prohibido</h3>
                <p>
                    Queda <strong>estrictamente prohibido</strong>: 
                   <ul style="margin-left: 50px;">
                  <li>El uso de la Plataforma para cualquier fin ilegal.</li>
                  <li>La publicación de contenido ofensivo, difamatorio o que viole derechos de propiedad.</li>
                  <li>El intento de interferir con el funcionamiento adecuado de la Plataforma. 
                     (El incumplimiento resultará en la baja inmediata de la cuenta.) </li>
                  <li>  El intento de obtener información confidencial de otros usuarios, incluyendo
                      contraseñas o datos personales.</li>
                  <li>La distribución de malware, virus, enlaces maliciosos o cualquier software dañino 
                  a través de la Plataforma.</li>
                  <li>Cualquier conducta que busque vulnerar la seguridad, integridad o disponibilidad
                 de los servicios proporcionados por la Plataforma.</li>
               </ul> </p>
                <br>
                <h3 style="color:#114c5f;"> 3. Propiedad Intelectual</h3>
                <p>
                    Todo el contenido de <strong>MenTora</strong>, incluyendo el diseño de los retos, el software, los gráficos y 
                    el material educativo, es propiedad exclusiva de MenTora o de sus licenciantes y está protegido por derechos 
                    de autor. Usted solo tiene licencia para el uso personal y no comercial del contenido.
                </p>
            </div>
        `
    },
    "contacto": {
        title: "Información de Contacto",
        text: `
            <div style="padding: 10px;">
                <p>Para consultas generales, soporte técnico o preguntas sobre su cuenta, contáctenos a través de los siguientes medios:</p>
                <p><strong>Email:</strong> <a href="">mentora@gmail.com</a></p>
                <p><strong>Teléfono:</strong> 5619174545 (Horario: Lunes a Viernes, 9:00 - 17:00 CST)</p>
                <p><strong>Dirección Postal:</strong> Instituto Tecnologíco Nacional de México.</p>
            </div>
        `
    },
    "equipo": {
        title: "Conoce a Nuestro Equipo",
        text: `
            <div style="display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center; padding: 25px;">
                <div style="text-align:center; min-width: 150px;">
                    <img src="https://api.iconify.design/mdi/account-circle.svg?color=%23114c5f" width="80" style="margin-bottom: 5px;">
                    <h4 style="color:#114c5f; text-align:left;"> David Iván Torres Martínez</h4>
                    <p><strong>Fundador del Proyecto</strong></p>
                    <p style="font-size: 0.9em; color: #555;">Lider con pensamiento estratégico, capacidad para coordinar la ejecución y experiencia sólida en desarrollo backend.</p>
                </div>
                <div style="text-align:center; min-width: 150px;">
                    <img src="https://api.iconify.design/mdi/account-circle.svg?color=%23114c5f" width="80" style="margin-bottom: 5px;">
                    <h4 style="color:#114c5f; text-align:left;">Karla Ivonne Romero Gonzalez</h4>
                    <p><strong>Diseñadora UX/UI </strong></p>
                    <p style="font-size: 0.9em; color: #555;">Especialista en desarrollo frontend, con enfoque técnico en diseño de interacción y arquitectura visual.</p>
                </div>
            </div>
        `
    }
  };
   let lastScroll = 0;

   function openModal(type) {

    lastScroll = window.scrollY;

    document.getElementById("modal-title").innerHTML = modalData[type].title;
    document.getElementById("modal-text").innerHTML = modalData[type].text;

    document.getElementById("modal-box").style.display = "block";
    document.getElementById("modal-overlay").style.display = "block";

    document.body.style.overflow = "hidden";
   }

   function cerrarModal() {
    const modal = document.getElementById("modal-box");
    const overlay = document.getElementById("modal-overlay");

    document.body.style.overflow = "auto";

    modal.style.display = "none";
    overlay.style.display = "none";

    setTimeout(() => {
        window.scrollTo({
            top: lastScroll,
            behavior: "instant"  
        });
    }, 1);
   }

   document.getElementById("close-modal").onclick = cerrarModal;
   document.getElementById("modal-overlay").onclick = cerrarModal;

   document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM cargado');
    
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('navLinks');
    
    console.log('Hamburger:', hamburger);
    console.log('NavLinks:', navLinks);

    if (hamburger && navLinks) {
        console.log('Elementos encontrados');
        
        hamburger.addEventListener('click', function(e) {
            console.log('Click en hamburger');
            navLinks.classList.toggle('active');
            console.log('Clases después del toggle:', navLinks.className);
        });
    } else {
        console.log('ERROR: No se encontraron los elementos');
    }
   });

let previewIndex = 0;
let previewAutoplay;

function initPreviewCarousel() {
    const track = document.getElementById('previewTrack');
    const dots = document.getElementById('previewDots');
    
    if (!track || !dots) return;
    
    const slides = track.querySelectorAll('.preview-slide');
    
    slides.forEach((_, i) => {
        const dot = document.createElement('div');
        dot.className = 'preview-dot';
        if (i === 0) dot.classList.add('active');
        dot.addEventListener('click', () => goToPreview(i));
        dots.appendChild(dot);
    });
    
    updatePreviewPosition();
    startPreviewAutoplay();
    
    const previewCarousel = document.querySelector('.preview-carousel');
    if (previewCarousel) {
        previewCarousel.addEventListener('mouseenter', () => {
            clearInterval(previewAutoplay);
        });
        
        previewCarousel.addEventListener('mouseleave', () => {
            startPreviewAutoplay();
        });
    }
}

function movePreview(direction) {
    const track = document.getElementById('previewTrack');
    if (!track) return;
    
    const slides = track.querySelectorAll('.preview-slide');
    
    previewIndex += direction;
    
    if (previewIndex < 0) {
        previewIndex = slides.length - 1;
    } else if (previewIndex >= slides.length) {
        previewIndex = 0;
    }
    
    updatePreviewPosition();
    resetPreviewAutoplay();
}

function goToPreview(index) {
    previewIndex = index;
    updatePreviewPosition();
    resetPreviewAutoplay();
}

function updatePreviewPosition() {
    const track = document.getElementById('previewTrack');
    const dots = document.querySelectorAll('#previewDots .preview-dot');
    
    if (!track) return;
    
    const offset = -previewIndex * 100;
    track.style.transform = `translateX(${offset}%)`;
    
    dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === previewIndex);
    });
}

function startPreviewAutoplay() {
    previewAutoplay = setInterval(() => {
        movePreview(1);
    }, 5000); // 
}

function resetPreviewAutoplay() {
    clearInterval(previewAutoplay);
    startPreviewAutoplay();
}

document.addEventListener('DOMContentLoaded', () => {
    initPreviewCarousel();
});

window.addEventListener('resize', () => {
    updatePreviewPosition();
});

document.addEventListener('keydown', (e) => {
    const previewCarousel = document.querySelector('.preview-carousel');
    if (!previewCarousel) return;
    
    const rect = previewCarousel.getBoundingClientRect();
    const isInViewport = rect.top >= 0 && rect.bottom <= window.innerHeight;
    
    if (isInViewport) {
        if (e.key === 'ArrowLeft') {
            movePreview(-1);
        } else if (e.key === 'ArrowRight') {
            movePreview(1);
        }
    }
});

(() => {
  const defaultOptions = {
    root: null,
    rootMargin: '0px 0px -8% 0px',
    threshold: 0.12
  };

  const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if (prefersReduced) {
    // Respect reduced motion: mark everything as already revealed
    document.querySelectorAll('.reveal').forEach(el => el.classList.add('is-revealed'));
    return;
  }

  function revealChildrenWithStagger(parent, gap) {
    const children = Array.from(parent.children);
    children.forEach((child, i) => {
      const delay = (i * gap);
      child.style.transitionDelay = `${delay}ms`;
      // if you want an initial per-child transform override, ensure CSS matches
    });
  }

  function clearStaggerDelays(parent) {
    Array.from(parent.children).forEach(child => {
      child.style.transitionDelay = '';
    });
  }

  const observer = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      const el = entry.target;
      const once = el.hasAttribute('data-once');
      if (entry.isIntersecting) {
        // if parent has data-stagger: stagger its children
        if (el.hasAttribute('data-stagger')) {
          const gapAttr = parseInt(el.getAttribute('data-stagger-gap') || getComputedStyle(document.documentElement).getPropertyValue('--reveal-stagger-gap')) || 80;
          revealChildrenWithStagger(el, gapAttr);
        }
        // Add class that triggers CSS transitions
        requestAnimationFrame(() => el.classList.add('is-revealed'));

        if (once) {
          obs.unobserve(el);
        }
      } else {
        // When leaving viewport: remove, unless data-once present
        if (!once) {
          // cleanup child delays if needed
          if (el.hasAttribute('data-stagger')) clearStaggerDelays(el);
          el.classList.remove('is-revealed');
        }
      }
    });
  }, defaultOptions);

  // Initialize: read per-element observer options if provided
  document.querySelectorAll('.reveal').forEach(el => {
    // allow per-element override of threshold/rootMargin
    const rootMargin = el.getAttribute('data-root-margin') || defaultOptions.rootMargin;
    const threshold = parseFloat(el.getAttribute('data-threshold') || defaultOptions.threshold);

    // if direction is set, it's handled by CSS via data-direction attribute already present
    // We need separate observer instances when options differ
    const obs = new IntersectionObserver((entries, obsRef) => {
      entries.forEach(entry => {
        const target = entry.target;
        const once = target.hasAttribute('data-once');
        if (entry.isIntersecting) {
          if (target.hasAttribute('data-stagger')) {
            const gapAttr = parseInt(target.getAttribute('data-stagger-gap') || getComputedStyle(document.documentElement).getPropertyValue('--reveal-stagger-gap')) || 80;
            revealChildrenWithStagger(target, gapAttr);
          }
          requestAnimationFrame(()=> target.classList.add('is-revealed'));
          if (once) obsRef.unobserve(target);
        } else {
          if (!once) {
            if (target.hasAttribute('data-stagger')) clearStaggerDelays(target);
            target.classList.remove('is-revealed');
          }
        }
      });
    }, { root: null, rootMargin, threshold });

    obs.observe(el);
  });

})();